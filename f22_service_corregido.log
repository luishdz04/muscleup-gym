2025-06-19 02:27:19,657 [INFO] ğŸš€================================================================================
2025-06-19 02:27:19,657 [INFO] ğŸš€ INICIANDO F22 WEBSOCKET SERVICE - VERSIÃ“N DEFINITIVA CORREGIDA
2025-06-19 02:27:19,658 [INFO] ğŸš€================================================================================
2025-06-19 02:27:19,658 [INFO] ğŸ“… Fecha: 2025-06-19 07:55:45 UTC
2025-06-19 02:27:19,658 [INFO] ğŸ‘¤ Desarrollado por: luishdz04
2025-06-19 02:27:19,658 [INFO] ğŸ”§ SDK: Oficial ZKTeco (zkemkeeper.dll)
2025-06-19 02:27:19,658 [INFO] ğŸŒ Puerto WebSocket: 8082
2025-06-19 02:27:19,660 [INFO] ğŸ¢ Dispositivo F22: 192.168.1.201:4370
2025-06-19 02:27:19,661 [INFO] ğŸ¯ MÃ¡quina: 1
2025-06-19 02:27:19,661 [INFO] 
2025-06-19 02:27:19,661 [INFO] âœ… FUNCIONES OFICIALES CORREGIDAS VERIFICADAS:
2025-06-19 02:27:19,661 [INFO]    ğŸ”§ SetUserTmpExStr - Template como string base64 (CONFIRMADO FUNCIONAL)
2025-06-19 02:27:19,661 [INFO]    ğŸ”§ SSR_DelUserTmpExt - EliminaciÃ³n especÃ­fica de templates (PRINCIPAL)
2025-06-19 02:27:19,661 [INFO]    ğŸ”§ SSR_DelUserTmp - EliminaciÃ³n fallback
2025-06-19 02:27:19,661 [INFO]    ğŸ”§ SSR_DeleteEnrollData - EliminaciÃ³n por BackupNumber
2025-06-19 02:27:19,661 [INFO]    ğŸ”§ ClearData - Limpieza total del dispositivo
2025-06-19 02:27:19,661 [INFO]    ğŸ”§ SSR_SetUserInfo - InformaciÃ³n de usuario
2025-06-19 02:27:19,661 [INFO]    ğŸ”§ RefreshData - ActualizaciÃ³n de dispositivo
2025-06-19 02:27:19,661 [INFO]    ğŸ”§ Connect_Net, Disconnect, EnableDevice
2025-06-19 02:27:19,661 [INFO]    ğŸ”§ GetLastError, GetVendor, GetFirmwareVersion
2025-06-19 02:27:19,661 [INFO]    ğŸ¢ IntegraciÃ³n Supabase - Nombres formato 'MUP - Nombre Apellido'
2025-06-19 02:27:19,661 [INFO]    ğŸ›¡ï¸ Manejo COM robusto con interpretaciÃ³n correcta de cÃ³digos
2025-06-19 02:27:19,661 [INFO]    ğŸ“Š Logging completo - Trazabilidad total con cÃ³digos especÃ­ficos
2025-06-19 02:27:19,661 [INFO] âœ… ConfiguraciÃ³n Supabase: ACTIVA
2025-06-19 02:27:19,661 [INFO]    ğŸ“¡ URL: https://tyuuyqypgwvdtpfvumxx.supabase.co
2025-06-19 02:27:19,661 [INFO] ğŸš€================================================================================
2025-06-19 02:27:19,674 [INFO] server listening on 127.0.0.1:8082
2025-06-19 02:27:19,674 [INFO] âœ… Servidor WebSocket ACTIVO en ws://127.0.0.1:8082
2025-06-19 02:27:19,674 [INFO] â³ Esperando conexiones de clientes...
2025-06-19 02:27:19,675 [INFO] ğŸ”„ Servicio listo para operaciones de sincronizaciÃ³n...
2025-06-19 02:27:19,675 [INFO] ğŸ¯ GARANTÃA: Funciones oficiales ZKTeco corregidas y verificadas
2025-06-19 02:27:19,675 [INFO] âœ… GUARDADO: SetUserTmpExStr confirmado funcional en logs
2025-06-19 02:27:19,675 [INFO] ğŸ—‘ï¸ BORRADO: SSR_DelUserTmpExt implementado segÃºn documentaciÃ³n
2025-06-19 02:29:39,084 [INFO] connection open
2025-06-19 02:29:39,085 [INFO] ğŸ”Œ [WS] Cliente conectado: 1570450351040
2025-06-19 02:29:39,087 [INFO] ğŸ¯ [MSG] AcciÃ³n recibida: connect_device
2025-06-19 02:29:39,088 [INFO] ğŸ”Œ [CONNECT] Conectando a F22 en 192.168.1.201:4370...
2025-06-19 02:29:39,816 [INFO] âœ… [CONNECT] ConexiÃ³n exitosa con F22 usando SDK oficial
2025-06-19 02:29:39,951 [INFO] ğŸ¯ [MSG] AcciÃ³n recibida: sync_template_from_db
2025-06-19 02:29:39,952 [INFO] ğŸ”„ [MSG] Iniciando sync_template_from_db para usuario 7265
2025-06-19 02:29:39,952 [INFO] ğŸ”„ [SYNC] Iniciando sincronizaciÃ³n de template desde BD...
2025-06-19 02:29:39,952 [INFO] ğŸ” [SYNC] Consultando nombre para usuario UUID: 67378a76-78dc-49d9-9864-83aef6754961
2025-06-19 02:29:39,952 [INFO] ğŸ” [SUPABASE] Consultando usuario: 67378a76-78dc-49d9-9864-83aef6754961
2025-06-19 02:29:41,019 [INFO] HTTP Request: GET https://tyuuyqypgwvdtpfvumxx.supabase.co/rest/v1/Users?select=firstName%2ClastName&id=eq.67378a76-78dc-49d9-9864-83aef6754961 "HTTP/1.1 200 OK"
2025-06-19 02:29:41,020 [INFO] âœ… [SUPABASE] Nombre obtenido: 'MUP - Erick Francisco De Luna'
2025-06-19 02:29:41,021 [INFO] ğŸ”„ [SYNC] === DATOS DE SINCRONIZACIÃ“N ===
2025-06-19 02:29:41,021 [INFO] ğŸ‘¤ [SYNC] Usuario: 7265 - 'MUP - Erick Francisco De Luna'
2025-06-19 02:29:41,021 [INFO] ğŸ–ï¸ [SYNC] Dedo: Frontend 8 â†’ ZKTeco 7 (Medio Izquierdo)
2025-06-19 02:29:41,022 [INFO] ğŸ‘¤ [SYNC] Configurando usuario en F22...
2025-06-19 02:29:41,940 [INFO] âœ… [SYNC] Usuario configurado en F22: MUP - Erick Francisco De Luna
2025-06-19 02:29:41,940 [INFO] ğŸ–ï¸ [SYNC] Guardando template de huella en F22...
2025-06-19 02:29:41,940 [INFO] ğŸ”§ [SYNC] MÃ©todo 1: SetUserTmpExStr (CONFIRMADO FUNCIONAL)...
2025-06-19 02:29:42,969 [INFO] âœ… [SYNC] Template guardado exitosamente con SetUserTmpExStr
2025-06-19 02:29:42,970 [INFO] ğŸ”„ [SYNC] Refrescando datos del dispositivo...
2025-06-19 02:29:43,018 [INFO] âœ… [SYNC] Datos del dispositivo refrescados
2025-06-19 02:29:43,018 [INFO] ğŸ‰ [SYNC] === SINCRONIZACIÃ“N COMPLETADA EXITOSAMENTE ===
2025-06-19 02:29:43,022 [INFO] â„¹ï¸ [WS] No hay mÃ¡s clientes, desconectando del F22...
2025-06-19 02:29:43,023 [INFO] ğŸ”Œ [DISCONNECT] Desconectando del F22...
2025-06-19 02:29:43,171 [INFO] âœ… [DISCONNECT] Desconectado de F22
2025-06-19 02:35:31,200 [INFO] connection open
2025-06-19 02:35:31,200 [INFO] ğŸ”Œ [WS] Cliente conectado: 1570450205072
2025-06-19 02:35:31,259 [INFO] ğŸ¯ [MSG] AcciÃ³n recibida: connect_device
2025-06-19 02:35:31,263 [INFO] ğŸ”Œ [CONNECT] Conectando a F22 en 192.168.1.201:4370...
2025-06-19 02:35:31,897 [INFO] âœ… [CONNECT] ConexiÃ³n exitosa con F22 usando SDK oficial
2025-06-19 02:35:32,012 [INFO] ğŸ¯ [MSG] AcciÃ³n recibida: delete_user
2025-06-19 02:35:32,012 [INFO] ğŸ—‘ï¸ [MSG] Solicitud eliminaciÃ³n: Usuario 7265, Dedo None
2025-06-19 02:35:32,013 [INFO] ğŸ—‘ï¸ [DELETE-ALL] Eliminando todas las huellas del usuario 7265...
2025-06-19 02:35:32,047 [INFO] âœ… [DELETE-ALL] Template FID:0 eliminado
2025-06-19 02:35:32,088 [INFO] âœ… [DELETE-ALL] Template FID:1 eliminado
2025-06-19 02:35:32,127 [INFO] âœ… [DELETE-ALL] Template FID:2 eliminado
2025-06-19 02:35:32,178 [INFO] âœ… [DELETE-ALL] Template FID:3 eliminado
2025-06-19 02:35:32,218 [INFO] âœ… [DELETE-ALL] Template FID:4 eliminado
2025-06-19 02:35:32,307 [INFO] âœ… [DELETE-ALL] Template FID:6 eliminado
2025-06-19 02:35:32,588 [INFO] âœ… [DELETE-ALL] Template FID:8 eliminado
2025-06-19 02:35:32,638 [INFO] âœ… [DELETE-ALL] Template FID:9 eliminado
2025-06-19 02:35:32,681 [INFO] â„¹ï¸ [WS] No hay mÃ¡s clientes, desconectando del F22...
2025-06-19 02:35:32,681 [INFO] ğŸ”Œ [DISCONNECT] Desconectando del F22...
2025-06-19 02:35:32,808 [INFO] âœ… [DISCONNECT] Desconectado de F22
2025-06-19 02:40:00,780 [INFO] server closing
2025-06-19 02:40:00,781 [INFO] server closed
2025-06-19 02:40:00,782 [INFO] â›” Servicio detenido por el usuario
2025-06-19 02:53:38,524 [INFO] ğŸš€================================================================================
2025-06-19 02:53:38,525 [INFO] ğŸš€ INICIANDO F22 WEBSOCKET SERVICE - VERSIÃ“N DEFINITIVA CORREGIDA
2025-06-19 02:53:38,525 [INFO] ğŸš€================================================================================
2025-06-19 02:53:38,525 [INFO] ğŸ“… Fecha: 2025-06-19 07:55:45 UTC
2025-06-19 02:53:38,525 [INFO] ğŸ‘¤ Desarrollado por: luishdz04
2025-06-19 02:53:38,525 [INFO] ğŸ”§ SDK: Oficial ZKTeco (zkemkeeper.dll)
2025-06-19 02:53:38,525 [INFO] ğŸŒ Puerto WebSocket: 8082
2025-06-19 02:53:38,526 [INFO] ğŸ¢ Dispositivo F22: 192.168.1.201:4370
2025-06-19 02:53:38,526 [INFO] ğŸ¯ MÃ¡quina: 1
2025-06-19 02:53:38,526 [INFO] 
2025-06-19 02:53:38,526 [INFO] âœ… FUNCIONES OFICIALES CORREGIDAS VERIFICADAS:
2025-06-19 02:53:38,526 [INFO]    ğŸ”§ SetUserTmpExStr - Template como string base64 (CONFIRMADO FUNCIONAL)
2025-06-19 02:53:38,526 [INFO]    ğŸ”§ SSR_DelUserTmpExt - EliminaciÃ³n especÃ­fica de templates (PRINCIPAL)
2025-06-19 02:53:38,526 [INFO]    ğŸ”§ SSR_DelUserTmp - EliminaciÃ³n fallback
2025-06-19 02:53:38,526 [INFO]    ğŸ”§ SSR_DeleteEnrollData - EliminaciÃ³n por BackupNumber
2025-06-19 02:53:38,527 [INFO]    ğŸ”§ ClearData - Limpieza total del dispositivo
2025-06-19 02:53:38,527 [INFO]    ğŸ”§ SSR_SetUserInfo - InformaciÃ³n de usuario
2025-06-19 02:53:38,527 [INFO]    ğŸ”§ RefreshData - ActualizaciÃ³n de dispositivo
2025-06-19 02:53:38,527 [INFO]    ğŸ”§ Connect_Net, Disconnect, EnableDevice
2025-06-19 02:53:38,527 [INFO]    ğŸ”§ GetLastError, GetVendor, GetFirmwareVersion
2025-06-19 02:53:38,527 [INFO]    ğŸ¢ IntegraciÃ³n Supabase - Nombres formato 'MUP - Nombre Apellido'
2025-06-19 02:53:38,527 [INFO]    ğŸ›¡ï¸ Manejo COM robusto con interpretaciÃ³n correcta de cÃ³digos
2025-06-19 02:53:38,528 [INFO]    ğŸ“Š Logging completo - Trazabilidad total con cÃ³digos especÃ­ficos
2025-06-19 02:53:38,528 [INFO] âœ… ConfiguraciÃ³n Supabase: ACTIVA
2025-06-19 02:53:38,528 [INFO]    ğŸ“¡ URL: https://tyuuyqypgwvdtpfvumxx.supabase.co
2025-06-19 02:53:38,528 [INFO] ğŸš€================================================================================
2025-06-19 02:53:38,546 [INFO] server listening on 127.0.0.1:8082
2025-06-19 02:53:38,546 [INFO] âœ… Servidor WebSocket ACTIVO en ws://127.0.0.1:8082
2025-06-19 02:53:38,546 [INFO] â³ Esperando conexiones de clientes...
2025-06-19 02:53:38,546 [INFO] ğŸ”„ Servicio listo para operaciones de sincronizaciÃ³n...
2025-06-19 02:53:38,546 [INFO] ğŸ¯ GARANTÃA: Funciones oficiales ZKTeco corregidas y verificadas
2025-06-19 02:53:38,546 [INFO] âœ… GUARDADO: SetUserTmpExStr confirmado funcional en logs
2025-06-19 02:53:38,546 [INFO] ğŸ—‘ï¸ BORRADO: SSR_DelUserTmpExt implementado segÃºn documentaciÃ³n
2025-06-19 02:53:44,145 [INFO] connection open
2025-06-19 02:53:44,145 [INFO] ğŸ”Œ [WS] Cliente conectado: 2746153411520
2025-06-19 02:53:44,146 [INFO] ğŸ¯ [MSG] AcciÃ³n recibida: connect_device
2025-06-19 02:53:44,147 [INFO] ğŸ”Œ [CONNECT] Conectando a F22 en 192.168.1.201:4370...
2025-06-19 02:53:44,907 [INFO] âœ… [CONNECT] ConexiÃ³n exitosa con F22 usando SDK oficial
2025-06-19 02:53:45,004 [INFO] ğŸ¯ [MSG] AcciÃ³n recibida: sync_template_from_db
2025-06-19 02:53:45,004 [INFO] ğŸ”„ [MSG] Iniciando sync_template_from_db para usuario 7265
2025-06-19 02:53:45,004 [INFO] ğŸ”„ [SYNC] Iniciando sincronizaciÃ³n de template desde BD...
2025-06-19 02:53:45,004 [INFO] ğŸ” [SYNC] Consultando nombre para usuario UUID: 67378a76-78dc-49d9-9864-83aef6754961
2025-06-19 02:53:45,005 [INFO] ğŸ” [SUPABASE] Consultando usuario: 67378a76-78dc-49d9-9864-83aef6754961
2025-06-19 02:53:46,079 [INFO] HTTP Request: GET https://tyuuyqypgwvdtpfvumxx.supabase.co/rest/v1/Users?select=firstName%2ClastName&id=eq.67378a76-78dc-49d9-9864-83aef6754961 "HTTP/1.1 200 OK"
2025-06-19 02:53:46,081 [INFO] âœ… [SUPABASE] Nombre obtenido: 'MUP - Erick Francisco De Luna'
2025-06-19 02:53:46,081 [INFO] ğŸ”„ [SYNC] === DATOS DE SINCRONIZACIÃ“N ===
2025-06-19 02:53:46,082 [INFO] ğŸ‘¤ [SYNC] Usuario: 7265 - 'MUP - Erick Francisco De Luna'
2025-06-19 02:53:46,082 [INFO] ğŸ–ï¸ [SYNC] Dedo: Frontend 8 â†’ ZKTeco 7 (Medio Izquierdo)
2025-06-19 02:53:46,082 [INFO] ğŸ‘¤ [SYNC] Configurando usuario en F22...
2025-06-19 02:53:46,944 [INFO] âœ… [SYNC] Usuario configurado en F22: MUP - Erick Francisco De Luna
2025-06-19 02:53:46,945 [INFO] ğŸ–ï¸ [SYNC] Guardando template de huella en F22...
2025-06-19 02:53:46,945 [INFO] ğŸ”§ [SYNC] MÃ©todo 1: SetUserTmpExStr (CONFIRMADO FUNCIONAL)...
2025-06-19 02:53:47,929 [INFO] âœ… [SYNC] Template guardado exitosamente con SetUserTmpExStr
2025-06-19 02:53:47,929 [INFO] ğŸ”„ [SYNC] Refrescando datos del dispositivo...
2025-06-19 02:53:47,976 [INFO] âœ… [SYNC] Datos del dispositivo refrescados
2025-06-19 02:53:47,977 [INFO] ğŸ‰ [SYNC] === SINCRONIZACIÃ“N COMPLETADA EXITOSAMENTE ===
2025-06-19 02:53:47,983 [INFO] â„¹ï¸ [WS] No hay mÃ¡s clientes, desconectando del F22...
2025-06-19 02:53:47,983 [INFO] ğŸ”Œ [DISCONNECT] Desconectando del F22...
2025-06-19 02:53:48,121 [INFO] âœ… [DISCONNECT] Desconectado de F22
2025-06-19 02:55:19,370 [INFO] connection open
2025-06-19 02:55:19,370 [INFO] ğŸ”Œ [WS] Cliente conectado: 2746153265552
2025-06-19 02:55:19,430 [INFO] ğŸ¯ [MSG] AcciÃ³n recibida: connect_device
2025-06-19 02:55:19,430 [INFO] ğŸ”Œ [CONNECT] Conectando a F22 en 192.168.1.201:4370...
2025-06-19 02:55:20,139 [INFO] âœ… [CONNECT] ConexiÃ³n exitosa con F22 usando SDK oficial
2025-06-19 02:55:20,232 [INFO] ğŸ¯ [MSG] AcciÃ³n recibida: delete_user
2025-06-19 02:55:20,232 [INFO] ğŸ—‘ï¸ [MSG] Solicitud eliminaciÃ³n: Usuario 7265, Dedo 8
2025-06-19 02:55:20,233 [INFO] ğŸ—‘ï¸ [DELETE] === INICIANDO ELIMINACIÃ“N DE HUELLA ESPECÃFICA ===
2025-06-19 02:55:20,233 [INFO] ğŸ‘¤ [DELETE] Usuario: 7265
2025-06-19 02:55:20,233 [INFO] ğŸ–ï¸ [DELETE] Dedo solicitado: 8
2025-06-19 02:55:20,233 [INFO] ğŸ”„ [DELETE] ConversiÃ³n: Frontend 8 â†’ ZKTeco 7 (Medio Izquierdo)
2025-06-19 02:55:20,234 [INFO] ğŸ—‘ï¸ [DELETE] Eliminando template del F22...
2025-06-19 02:55:20,234 [INFO] ğŸ”§ [DELETE] MÃ©todo 1: SSR_DelUserTmpExt (PRINCIPAL)...
2025-06-19 02:55:20,540 [INFO] ğŸ“Š [DELETE] Resultado SSR_DelUserTmpExt: True, Error Code: 1
2025-06-19 02:55:20,540 [WARNING] âš ï¸ [DELETE] SSR_DelUserTmpExt retornÃ³ cÃ³digo: 1
2025-06-19 02:55:20,541 [INFO] ğŸ”§ [DELETE] MÃ©todo 2: SSR_DelUserTmp (fallback 1)...
2025-06-19 02:55:21,289 [INFO] ğŸ“Š [DELETE] Resultado SSR_DelUserTmp: True, Error Code: 1
2025-06-19 02:55:21,290 [WARNING] âš ï¸ [DELETE] SSR_DelUserTmp cÃ³digo: 1
2025-06-19 02:55:21,291 [INFO] ğŸ”§ [DELETE] MÃ©todo 3: SSR_DeleteEnrollData (fallback 2)...
2025-06-19 02:55:23,889 [INFO] ğŸ“Š [DELETE] Resultado SSR_DeleteEnrollData: True, Error Code: 1
2025-06-19 02:55:23,890 [WARNING] âš ï¸ [DELETE] SSR_DeleteEnrollData cÃ³digo: 1
2025-06-19 02:55:23,891 [INFO] ğŸ”„ [DELETE] Refrescando datos del dispositivo...
2025-06-19 02:55:23,929 [INFO] âœ… [DELETE] Datos del dispositivo refrescados
2025-06-19 02:55:23,930 [INFO] ğŸ‰ [DELETE] === ELIMINACIÃ“N DE HUELLA COMPLETADA ===
2025-06-19 02:55:23,930 [WARNING] âš ï¸ [DELETE] No se pudo confirmar eliminaciÃ³n: SSR_DeleteEnrollData cÃ³digo: 1
2025-06-19 02:55:23,933 [INFO] â„¹ï¸ [WS] No hay mÃ¡s clientes, desconectando del F22...
2025-06-19 02:55:23,934 [INFO] ğŸ”Œ [DISCONNECT] Desconectando del F22...
2025-06-19 02:55:24,080 [INFO] âœ… [DISCONNECT] Desconectado de F22
2025-06-19 03:15:17,205 [INFO] server closing
2025-06-19 03:15:17,206 [INFO] server closed
2025-06-19 03:15:17,208 [INFO] â›” Servicio detenido por el usuario
