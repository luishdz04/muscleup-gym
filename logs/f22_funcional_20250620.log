2025-06-20 02:17:25,015 [INFO] 
🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉
2025-06-20 02:17:25,015 [INFO] [STARTUP] SERVICIO F22 v5.1 FUNCIONAL - EVENTOS COM CONFIRMADOS
2025-06-20 02:17:25,015 [INFO] 🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉
2025-06-20 02:17:25,015 [INFO] [INFO] 📅 Fecha/Hora: 2025-06-20 08:15:29 UTC
2025-06-20 02:17:25,018 [INFO] [INFO] 👤 Usuario: mupai555
2025-06-20 02:17:25,018 [INFO] [INFO] 🔒 Modo de seguridad: ULTRA_STRICT
2025-06-20 02:17:25,018 [INFO] [INFO] 🚫 Offline mode: False (FALSE = SEGURO)
2025-06-20 02:17:25,018 [INFO] [INFO] 🌐 Dispositivo F22: 192.168.1.201:4370
2025-06-20 02:17:25,018 [INFO] [INFO] 🎯 Puerto WebSocket: 8082
2025-06-20 02:17:25,018 [INFO] 
2025-06-20 02:17:25,018 [INFO] [DIAGNOSIS] ✅ EVENTOS COM CONFIRMADOS FUNCIONANDO:
2025-06-20 02:17:25,018 [INFO]    🎯 OnAttTransactionEx recibido exitosamente
2025-06-20 02:17:25,018 [INFO]    👤 Usuario 7265 detectado correctamente
2025-06-20 02:17:25,018 [INFO]    ✅ Huella válida confirmada
2025-06-20 02:17:25,018 [INFO]    🔍 Método verificación = 1 (huella)
2025-06-20 02:17:25,018 [INFO]    💓 Heartbeat sin errores
2025-06-20 02:17:25,018 [INFO] 
2025-06-20 02:17:25,018 [INFO] [FEATURES] 🛡️ CARACTERÍSTICAS FUNCIONALES:
2025-06-20 02:17:25,018 [INFO]    ✅ STA Thread para eventos COM REALES confirmados
2025-06-20 02:17:25,018 [INFO]    ✅ DispatchWithEvents con sintaxis correcta
2025-06-20 02:17:25,018 [INFO]    ✅ pythoncom.PumpMessages() funcionando
2025-06-20 02:17:25,019 [INFO]    ✅ 🔐 Validación BULLETPROOF con tu esquema de BD
2025-06-20 02:17:25,019 [INFO]    ✅ 📋 fingerprint_templates -> Users -> user_memberships
2025-06-20 02:17:25,019 [INFO]    ✅ 📊 Logs automáticos en access_logs
2025-06-20 02:17:25,019 [INFO]    ✅ 🎯 Monitoreo en tiempo real con validación inmediata
2025-06-20 02:17:25,019 [INFO]    ✅ 🔍 MODO VERIFICACIÓN PURA - F22 NO da acceso automático
2025-06-20 02:17:25,019 [INFO]    ✅ 🔓 ACUnlock - FUNCIÓN PARA ABRIR PUERTAS
2025-06-20 02:17:25,019 [INFO]    ✅ 🚨 SOFTWARE CONTROLA ACCESO - NO EL DISPOSITIVO
2025-06-20 02:17:25,019 [INFO]    ✅ 🔒 CERO tolerancia a errores de seguridad
2025-06-20 02:17:25,019 [INFO]    ✅ 🎮 WebSocket API completa SIN ERRORES
2025-06-20 02:17:25,019 [INFO]    ✅ 🎉 BASADO EN DIAGNÓSTICO EXITOSO
2025-06-20 02:17:25,019 [INFO] 🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉
2025-06-20 02:17:25,019 [INFO] [STARTUP] 🔗 Iniciando conexión F22 FUNCIONAL...
2025-06-20 02:17:25,019 [INFO] [SERVICE] 🚀 Iniciando servicio F22 FUNCIONAL v5.1...
2025-06-20 02:17:25,019 [INFO] [VERIFY] 🔍 Verificando conexión a Supabase...
2025-06-20 02:17:26,181 [INFO] [VERIFY] ✅ Conexión a Supabase verificada
2025-06-20 02:17:26,181 [INFO] [STA_THREAD] 🧵 Thread STA FUNCIONAL inicializado
2025-06-20 02:17:26,182 [INFO] [STA_THREAD] ✅ COM inicializado en modo STA
2025-06-20 02:17:26,183 [INFO] [STA_THREAD] 🔗 Conectando a F22 FUNCIONAL en 192.168.1.201:4370
2025-06-20 02:17:26,890 [INFO] [STA_THREAD] ✅ Conectado al F22
2025-06-20 02:17:26,891 [INFO] [STA_THREAD] 📋 Info dispositivo: {'serial': 'BOCK192461543', 'firmware': 'Unknown'}
2025-06-20 02:17:26,891 [INFO] [STA_THREAD] 🔧 Aplicando configuración FUNCIONAL...
2025-06-20 02:17:27,087 [INFO] [FUNCTIONAL] ✅ Realtime = 1
2025-06-20 02:17:27,184 [INFO] [SUCCESS] ✅ Servicio F22 FUNCIONAL iniciado
2025-06-20 02:17:27,186 [INFO] [SUCCESS] 🔍 Eventos COM FUNCIONALES activos
2025-06-20 02:17:27,187 [INFO] [SUCCESS] 🎯 Validación con tu BD activa
2025-06-20 02:17:27,187 [INFO] [SUCCESS] 🔓 Control de puerta con ACUnlock FUNCIONAL
2025-06-20 02:17:27,188 [INFO] [SUCCESS] 🚨 F22 configurado en VERIFICACIÓN PURA
2025-06-20 02:17:27,188 [INFO] [STARTUP] ✅ Conexión F22 FUNCIONAL establecida
2025-06-20 02:17:27,189 [INFO] [STARTUP] 🌐 Iniciando WebSocket F22 FUNCIONAL...
2025-06-20 02:17:27,206 [INFO] [SUCCESS] 🚀 Sistema F22 FUNCIONAL activo en puerto 8082
2025-06-20 02:17:27,206 [INFO] 
2025-06-20 02:17:27,206 [INFO] [READY] 🎯 Sistema listo - CON VERIFICACIÓN PURA FUNCIONAL
2025-06-20 02:17:27,206 [INFO] [READY] 🔍 Eventos COM confirmados funcionando
2025-06-20 02:17:27,206 [INFO] [READY] 📊 Logs automáticos en access_logs activos
2025-06-20 02:17:27,206 [INFO] [READY] 🔓 Control de puerta con ACUnlock FUNCIONAL
2025-06-20 02:17:27,206 [INFO] [READY] 🚨 F22 configurado en MODO VERIFICACIÓN PURA
2025-06-20 02:17:27,207 [INFO] [READY] ⚡ SOFTWARE CONTROLA EL ACCESO - NO EL DISPOSITIVO
2025-06-20 02:17:27,207 [INFO] 
2025-06-20 02:17:27,207 [INFO] [CONFIRMED] 🎉 FUNCIONAMIENTO CONFIRMADO:
2025-06-20 02:17:27,207 [INFO]    1. ✅ Usuario 7265 ya detectado exitosamente
2025-06-20 02:17:27,207 [INFO]    2. ✅ Eventos COM funcionando perfectamente
2025-06-20 02:17:27,207 [INFO]    3. ✅ Validación BULLETPROOF lista
2025-06-20 02:17:27,207 [INFO]    4. ✅ Control de puerta funcional
2025-06-20 02:17:27,207 [INFO]    5. ✅ Logs automáticos activos
2025-06-20 02:17:27,207 [INFO] 
2025-06-20 02:17:27,207 [INFO] [TEST] 🧪 PRUEBA LAS FUNCIONALIDADES:
2025-06-20 02:17:27,207 [INFO]    1. 👤 Usuario CON membresía activa → SOFTWARE decide y abre puerta ✅
2025-06-20 02:17:27,207 [INFO]    2. ❌ Usuario SIN membresía → SOFTWARE deniega acceso (NO el F22)
2025-06-20 02:17:27,207 [INFO]    3. ❓ Usuario no registrado → SOFTWARE deniega acceso
2025-06-20 02:17:27,207 [INFO]    4. ⏰ Usuario fuera de horario → SOFTWARE deniega acceso
2025-06-20 02:17:27,207 [INFO]    5. 🔓 Probar apertura manual → Usar 'open_door' (ACUnlock)
2025-06-20 02:17:27,207 [INFO]    6. 📊 Verificar logs en access_logs automáticamente
2025-06-20 02:17:27,207 [INFO] 
2025-06-20 02:17:27,208 [INFO] [WEBSOCKET] 🌐 API FUNCIONAL disponible en:
2025-06-20 02:17:27,208 [INFO]    ws://127.0.0.1:8082
2025-06-20 02:17:27,208 [INFO] 
2025-06-20 02:17:27,208 [INFO] [API] 🎮 Acciones disponibles:
2025-06-20 02:17:27,208 [INFO]    - get_device_info: Info del dispositivo + eventos recibidos
2025-06-20 02:17:27,208 [INFO]    - test_access: Probar validación de usuario (ej: 7265)
2025-06-20 02:17:27,208 [INFO]    - open_door: Abrir puerta con ACUnlock (FUNCIONAL)
2025-06-20 02:17:27,208 [INFO]    - connect_device: Conectar dispositivo
2025-06-20 02:17:27,208 [INFO]    - disconnect_device: Desconectar dispositivo
2025-06-20 02:17:27,208 [INFO]    - get_service_status: Estado completo del servicio
2025-06-20 02:17:27,208 [INFO] 
2025-06-20 02:17:27,208 [INFO] 🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉
2025-06-20 02:17:27,208 [INFO] [STATUS] ✅ SISTEMA F22 FUNCIONAL CON VERIFICACIÓN PURA ACTIVO
2025-06-20 02:17:27,208 [INFO] [STATUS] 👆 PON TU DEDO EN EL F22 - EVENTOS CONFIRMADOS
2025-06-20 02:17:27,208 [INFO] [STATUS] 🔍 F22 SOLO VERIFICA - SOFTWARE DECIDE ACCESO
2025-06-20 02:17:27,208 [INFO] [STATUS] 🔓 LA PUERTA SOLO SE ABRE SI SOFTWARE LO AUTORIZA
2025-06-20 02:17:27,208 [INFO] [STATUS] 📝 EVENTOS COM FUNCIONANDO AL 100%
2025-06-20 02:17:27,209 [INFO] [STATUS] 🎉 BASADO EN DIAGNÓSTICO EXITOSO
2025-06-20 02:17:27,209 [INFO] 🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉
2025-06-20 02:17:27,312 [INFO] [FUNCTIONAL] ✅ AutoOpenDoor = 0
2025-06-20 02:17:27,505 [INFO] [FUNCTIONAL] ✅ VerifyMode = 1
2025-06-20 02:17:27,707 [INFO] [FUNCTIONAL] ✅ AttState = 255
2025-06-20 02:17:27,745 [INFO] [FUNCTIONAL] ✅ WorkCode = 0
2025-06-20 02:17:27,793 [INFO] [FUNCTIONAL] ✅ Dispositivo ACTIVO para lectura
2025-06-20 02:17:27,840 [INFO] [FUNCTIONAL] ✅ Configuración refrescada
2025-06-20 02:17:27,841 [INFO] [FUNCTIONAL] ✅ Configuración aplicada: 7 opciones
2025-06-20 02:17:27,841 [INFO] [FUNCTIONAL] 🔍 F22 configurado como VERIFICADOR (NO auto-acceso)
2025-06-20 02:17:27,842 [INFO] [FUNCTIONAL] ⚡ Control de puerta: MANUAL con ACUnlock
2025-06-20 02:17:27,888 [INFO] [STA_THREAD] ✅ Eventos COM registrados (FUNCIONAL)
2025-06-20 02:17:27,888 [INFO] [STA_THREAD] 🚀 Monitoreo FUNCIONAL con eventos COM activo
2025-06-20 02:17:27,889 [INFO] [STA_THREAD] 🔍 F22 configurado en MODO VERIFICACIÓN PURA
2025-06-20 02:17:27,889 [INFO] [STA_THREAD] 🔓 Control de puerta con ACUnlock FUNCIONAL
2025-06-20 02:17:27,890 [INFO] [STA_THREAD] 🔄 Iniciando loop STA FUNCIONAL
2025-06-20 02:17:51,341 [INFO] [COM_EVENT] 🎯 EVENTO 1 RECIBIDO!
2025-06-20 02:17:51,342 [INFO] [COM_EVENT] 👤 Usuario: 7265
2025-06-20 02:17:51,342 [INFO] [COM_EVENT] ✅ Válido: True
2025-06-20 02:17:51,343 [INFO] [COM_EVENT] 🔍 Método: 1
2025-06-20 02:17:51,343 [INFO] 🔍 HUELLA VERIFICADA - SOFTWARE DECIDE ACCESO
2025-06-20 02:17:51,344 [INFO] [STA_THREAD] 🔄 Procesando verificación para usuario 7265
2025-06-20 02:17:51,345 [INFO] [ACCESS] 🔍 === VERIFICACIÓN PURA FUNCIONAL INICIADA ===
2025-06-20 02:17:51,346 [INFO] [ACCESS] 👤 Usuario: 7265
2025-06-20 02:17:51,346 [INFO] [ACCESS] 🚨 F22 NO dio acceso automático - SOFTWARE DECIDE
2025-06-20 02:17:51,347 [INFO] [SECURITY] 🔐 Validación BULLETPROOF para usuario 7265
2025-06-20 02:17:52,701 [INFO] [SECURITY] 👤 Usuario encontrado: Erick Francisco De Luna (UUID: 67378a76-78dc-49d9-9864-83aef6754961)
2025-06-20 02:17:54,672 [WARNING] [SECURITY] ⏰ Fuera de horario: Fuera de horario (06:00 - 23:00)
2025-06-20 02:17:54,672 [WARNING] [ACCESS] ❌ ACCESO DENEGADO POR SOFTWARE
2025-06-20 02:17:54,673 [WARNING] [ACCESS] 👤 Usuario: Erick Francisco De Luna
2025-06-20 02:17:54,673 [WARNING] [ACCESS] 📝 Razón: Fuera de horario (06:00 - 23:00)
2025-06-20 02:17:55,634 [INFO] [COM_EVENT] 🎯 EVENTO 2 RECIBIDO!
2025-06-20 02:17:55,635 [INFO] [COM_EVENT] 👤 Usuario: 7265
2025-06-20 02:17:55,635 [INFO] [COM_EVENT] ✅ Válido: True
2025-06-20 02:17:55,636 [INFO] [COM_EVENT] 🔍 Método: 1
2025-06-20 02:17:55,636 [INFO] 🔍 HUELLA VERIFICADA - SOFTWARE DECIDE ACCESO
2025-06-20 02:17:55,636 [INFO] [STA_THREAD] 🔄 Procesando verificación para usuario 7265
2025-06-20 02:17:55,637 [INFO] [ACCESS] 🔍 === VERIFICACIÓN PURA FUNCIONAL INICIADA ===
2025-06-20 02:17:55,638 [INFO] [ACCESS] 👤 Usuario: 7265
2025-06-20 02:17:55,638 [INFO] [ACCESS] 🚨 F22 NO dio acceso automático - SOFTWARE DECIDE
2025-06-20 02:17:55,639 [INFO] [SECURITY] 🔐 Validación BULLETPROOF para usuario 7265
2025-06-20 02:17:55,639 [WARNING] [ACCESS] ❌ ACCESO DENEGADO POR SOFTWARE
2025-06-20 02:17:55,639 [WARNING] [ACCESS] 👤 Usuario: Erick Francisco De Luna
2025-06-20 02:17:55,640 [WARNING] [ACCESS] 📝 Razón: Fuera de horario (06:00 - 23:00)
2025-06-20 02:17:56,139 [WARNING] [LOG] ⚠️ Error registrando acceso: 400
2025-06-20 02:17:56,139 [INFO] [ACCESS] 🔍 === VERIFICACIÓN PURA FUNCIONAL COMPLETADA ===
2025-06-20 02:17:56,796 [WARNING] [LOG] ⚠️ Error registrando acceso: 400
2025-06-20 02:17:56,799 [INFO] [ACCESS] 🔍 === VERIFICACIÓN PURA FUNCIONAL COMPLETADA ===
2025-06-20 02:20:23,138 [INFO] [SHUTDOWN] 🛑 Iniciando apagado FUNCIONAL (SIGINT)
2025-06-20 02:20:23,140 [INFO] [STA_THREAD] 🧹 Limpiando recursos FUNCIONALES...
2025-06-20 02:20:23,251 [INFO] [STA_THREAD] ✅ Recursos FUNCIONALES liberados
2025-06-20 02:20:23,252 [INFO] [STA_THREAD] 🧵 Thread STA FUNCIONAL finalizado
2025-06-20 02:20:23,279 [INFO] [SHUTDOWN] 🛑 Cerrando WebSocket F22 FUNCIONAL...
2025-06-20 02:20:23,281 [INFO] [SERVICE] 🛑 Deteniendo servicio FUNCIONAL...
2025-06-20 02:20:23,281 [INFO] [SERVICE] ✅ Servicio FUNCIONAL detenido
2025-06-20 02:20:23,282 [INFO] [SHUTDOWN] ✅ Sistema F22 FUNCIONAL cerrado limpiamente
2025-06-20 02:20:23,287 [INFO] [SHUTDOWN] 🧹 Limpiando recursos FUNCIONALES...
2025-06-20 02:20:23,288 [INFO] [SHUTDOWN] ✅ Recursos FUNCIONALES liberados
2025-06-20 02:20:37,717 [INFO] 
🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉
2025-06-20 02:20:37,718 [INFO] [STARTUP] SERVICIO F22 v5.1 FUNCIONAL - EVENTOS COM CONFIRMADOS
2025-06-20 02:20:37,718 [INFO] 🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉
2025-06-20 02:20:37,718 [INFO] [INFO] 📅 Fecha/Hora: 2025-06-20 08:15:29 UTC
2025-06-20 02:20:37,718 [INFO] [INFO] 👤 Usuario: mupai555
2025-06-20 02:20:37,718 [INFO] [INFO] 🔒 Modo de seguridad: ULTRA_STRICT
2025-06-20 02:20:37,718 [INFO] [INFO] 🚫 Offline mode: False (FALSE = SEGURO)
2025-06-20 02:20:37,718 [INFO] [INFO] 🌐 Dispositivo F22: 192.168.1.201:4370
2025-06-20 02:20:37,718 [INFO] [INFO] 🎯 Puerto WebSocket: 8082
2025-06-20 02:20:37,718 [INFO] 
2025-06-20 02:20:37,718 [INFO] [DIAGNOSIS] ✅ EVENTOS COM CONFIRMADOS FUNCIONANDO:
2025-06-20 02:20:37,719 [INFO]    🎯 OnAttTransactionEx recibido exitosamente
2025-06-20 02:20:37,719 [INFO]    👤 Usuario 7265 detectado correctamente
2025-06-20 02:20:37,719 [INFO]    ✅ Huella válida confirmada
2025-06-20 02:20:37,719 [INFO]    🔍 Método verificación = 1 (huella)
2025-06-20 02:20:37,719 [INFO]    💓 Heartbeat sin errores
2025-06-20 02:20:37,719 [INFO] 
2025-06-20 02:20:37,719 [INFO] [FEATURES] 🛡️ CARACTERÍSTICAS FUNCIONALES:
2025-06-20 02:20:37,719 [INFO]    ✅ STA Thread para eventos COM REALES confirmados
2025-06-20 02:20:37,719 [INFO]    ✅ DispatchWithEvents con sintaxis correcta
2025-06-20 02:20:37,719 [INFO]    ✅ pythoncom.PumpMessages() funcionando
2025-06-20 02:20:37,719 [INFO]    ✅ 🔐 Validación BULLETPROOF con tu esquema de BD
2025-06-20 02:20:37,719 [INFO]    ✅ 📋 fingerprint_templates -> Users -> user_memberships
2025-06-20 02:20:37,719 [INFO]    ✅ 📊 Logs automáticos en access_logs
2025-06-20 02:20:37,719 [INFO]    ✅ 🎯 Monitoreo en tiempo real con validación inmediata
2025-06-20 02:20:37,719 [INFO]    ✅ 🔍 MODO VERIFICACIÓN PURA - F22 NO da acceso automático
2025-06-20 02:20:37,719 [INFO]    ✅ 🔓 ACUnlock - FUNCIÓN PARA ABRIR PUERTAS
2025-06-20 02:20:37,719 [INFO]    ✅ 🚨 SOFTWARE CONTROLA ACCESO - NO EL DISPOSITIVO
2025-06-20 02:20:37,719 [INFO]    ✅ 🔒 CERO tolerancia a errores de seguridad
2025-06-20 02:20:37,719 [INFO]    ✅ 🎮 WebSocket API completa SIN ERRORES
2025-06-20 02:20:37,720 [INFO]    ✅ 🎉 BASADO EN DIAGNÓSTICO EXITOSO
2025-06-20 02:20:37,720 [INFO] 🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉
2025-06-20 02:20:37,720 [INFO] [STARTUP] 🔗 Iniciando conexión F22 FUNCIONAL...
2025-06-20 02:20:37,720 [INFO] [SERVICE] 🚀 Iniciando servicio F22 FUNCIONAL v5.1...
2025-06-20 02:20:37,720 [INFO] [VERIFY] 🔍 Verificando conexión a Supabase...
2025-06-20 02:20:38,597 [INFO] [VERIFY] ✅ Conexión a Supabase verificada
2025-06-20 02:20:38,598 [INFO] [STA_THREAD] 🧵 Thread STA FUNCIONAL inicializado
2025-06-20 02:20:38,599 [INFO] [STA_THREAD] ✅ COM inicializado en modo STA
2025-06-20 02:20:38,599 [INFO] [STA_THREAD] 🔗 Conectando a F22 FUNCIONAL en 192.168.1.201:4370
2025-06-20 02:20:39,268 [INFO] [STA_THREAD] ✅ Conectado al F22
2025-06-20 02:20:39,269 [INFO] [STA_THREAD] 📋 Info dispositivo: {'serial': 'BOCK192461543', 'firmware': 'Unknown'}
2025-06-20 02:20:39,269 [INFO] [STA_THREAD] 🔧 Aplicando configuración FUNCIONAL...
2025-06-20 02:20:39,501 [INFO] [FUNCTIONAL] ✅ Realtime = 1
2025-06-20 02:20:39,612 [INFO] [SUCCESS] ✅ Servicio F22 FUNCIONAL iniciado
2025-06-20 02:20:39,613 [INFO] [SUCCESS] 🔍 Eventos COM FUNCIONALES activos
2025-06-20 02:20:39,614 [INFO] [SUCCESS] 🎯 Validación con tu BD activa
2025-06-20 02:20:39,615 [INFO] [SUCCESS] 🔓 Control de puerta con ACUnlock FUNCIONAL
2025-06-20 02:20:39,616 [INFO] [SUCCESS] 🚨 F22 configurado en VERIFICACIÓN PURA
2025-06-20 02:20:39,616 [INFO] [STARTUP] ✅ Conexión F22 FUNCIONAL establecida
2025-06-20 02:20:39,617 [INFO] [STARTUP] 🌐 Iniciando WebSocket F22 FUNCIONAL...
2025-06-20 02:20:39,635 [INFO] [SUCCESS] 🚀 Sistema F22 FUNCIONAL activo en puerto 8082
2025-06-20 02:20:39,635 [INFO] 
2025-06-20 02:20:39,635 [INFO] [READY] 🎯 Sistema listo - CON VERIFICACIÓN PURA FUNCIONAL
2025-06-20 02:20:39,635 [INFO] [READY] 🔍 Eventos COM confirmados funcionando
2025-06-20 02:20:39,636 [INFO] [READY] 📊 Logs automáticos en access_logs activos
2025-06-20 02:20:39,636 [INFO] [READY] 🔓 Control de puerta con ACUnlock FUNCIONAL
2025-06-20 02:20:39,636 [INFO] [READY] 🚨 F22 configurado en MODO VERIFICACIÓN PURA
2025-06-20 02:20:39,636 [INFO] [READY] ⚡ SOFTWARE CONTROLA EL ACCESO - NO EL DISPOSITIVO
2025-06-20 02:20:39,636 [INFO] 
2025-06-20 02:20:39,636 [INFO] [CONFIRMED] 🎉 FUNCIONAMIENTO CONFIRMADO:
2025-06-20 02:20:39,637 [INFO]    1. ✅ Usuario 7265 ya detectado exitosamente
2025-06-20 02:20:39,637 [INFO]    2. ✅ Eventos COM funcionando perfectamente
2025-06-20 02:20:39,637 [INFO]    3. ✅ Validación BULLETPROOF lista
2025-06-20 02:20:39,637 [INFO]    4. ✅ Control de puerta funcional
2025-06-20 02:20:39,637 [INFO]    5. ✅ Logs automáticos activos
2025-06-20 02:20:39,637 [INFO] 
2025-06-20 02:20:39,637 [INFO] [TEST] 🧪 PRUEBA LAS FUNCIONALIDADES:
2025-06-20 02:20:39,637 [INFO]    1. 👤 Usuario CON membresía activa → SOFTWARE decide y abre puerta ✅
2025-06-20 02:20:39,637 [INFO]    2. ❌ Usuario SIN membresía → SOFTWARE deniega acceso (NO el F22)
2025-06-20 02:20:39,637 [INFO]    3. ❓ Usuario no registrado → SOFTWARE deniega acceso
2025-06-20 02:20:39,637 [INFO]    4. ⏰ Usuario fuera de horario → SOFTWARE deniega acceso
2025-06-20 02:20:39,637 [INFO]    5. 🔓 Probar apertura manual → Usar 'open_door' (ACUnlock)
2025-06-20 02:20:39,637 [INFO]    6. 📊 Verificar logs en access_logs automáticamente
2025-06-20 02:20:39,637 [INFO] 
2025-06-20 02:20:39,637 [INFO] [WEBSOCKET] 🌐 API FUNCIONAL disponible en:
2025-06-20 02:20:39,637 [INFO]    ws://127.0.0.1:8082
2025-06-20 02:20:39,637 [INFO] 
2025-06-20 02:20:39,638 [INFO] [API] 🎮 Acciones disponibles:
2025-06-20 02:20:39,638 [INFO]    - get_device_info: Info del dispositivo + eventos recibidos
2025-06-20 02:20:39,638 [INFO]    - test_access: Probar validación de usuario (ej: 7265)
2025-06-20 02:20:39,638 [INFO]    - open_door: Abrir puerta con ACUnlock (FUNCIONAL)
2025-06-20 02:20:39,638 [INFO]    - connect_device: Conectar dispositivo
2025-06-20 02:20:39,638 [INFO]    - disconnect_device: Desconectar dispositivo
2025-06-20 02:20:39,638 [INFO]    - get_service_status: Estado completo del servicio
2025-06-20 02:20:39,638 [INFO] 
2025-06-20 02:20:39,638 [INFO] 🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉
2025-06-20 02:20:39,638 [INFO] [STATUS] ✅ SISTEMA F22 FUNCIONAL CON VERIFICACIÓN PURA ACTIVO
2025-06-20 02:20:39,638 [INFO] [STATUS] 👆 PON TU DEDO EN EL F22 - EVENTOS CONFIRMADOS
2025-06-20 02:20:39,638 [INFO] [STATUS] 🔍 F22 SOLO VERIFICA - SOFTWARE DECIDE ACCESO
2025-06-20 02:20:39,638 [INFO] [STATUS] 🔓 LA PUERTA SOLO SE ABRE SI SOFTWARE LO AUTORIZA
2025-06-20 02:20:39,638 [INFO] [STATUS] 📝 EVENTOS COM FUNCIONANDO AL 100%
2025-06-20 02:20:39,638 [INFO] [STATUS] 🎉 BASADO EN DIAGNÓSTICO EXITOSO
2025-06-20 02:20:39,638 [INFO] 🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉
2025-06-20 02:20:39,698 [INFO] [FUNCTIONAL] ✅ AutoOpenDoor = 0
2025-06-20 02:20:39,924 [INFO] [FUNCTIONAL] ✅ VerifyMode = 1
2025-06-20 02:20:40,150 [INFO] [FUNCTIONAL] ✅ AttState = 255
2025-06-20 02:20:40,197 [INFO] [FUNCTIONAL] ✅ WorkCode = 0
2025-06-20 02:20:40,245 [INFO] [FUNCTIONAL] ✅ Dispositivo ACTIVO para lectura
2025-06-20 02:20:40,293 [INFO] [FUNCTIONAL] ✅ Configuración refrescada
2025-06-20 02:20:40,294 [INFO] [FUNCTIONAL] ✅ Configuración aplicada: 7 opciones
2025-06-20 02:20:40,294 [INFO] [FUNCTIONAL] 🔍 F22 configurado como VERIFICADOR (NO auto-acceso)
2025-06-20 02:20:40,295 [INFO] [FUNCTIONAL] ⚡ Control de puerta: MANUAL con ACUnlock
2025-06-20 02:20:40,340 [INFO] [STA_THREAD] ✅ Eventos COM registrados (FUNCIONAL)
2025-06-20 02:20:40,341 [INFO] [STA_THREAD] 🚀 Monitoreo FUNCIONAL con eventos COM activo
2025-06-20 02:20:40,342 [INFO] [STA_THREAD] 🔍 F22 configurado en MODO VERIFICACIÓN PURA
2025-06-20 02:20:40,343 [INFO] [STA_THREAD] 🔓 Control de puerta con ACUnlock FUNCIONAL
2025-06-20 02:20:40,343 [INFO] [STA_THREAD] 🔄 Iniciando loop STA FUNCIONAL
2025-06-20 02:21:00,085 [INFO] [COM_EVENT] 🎯 EVENTO 1 RECIBIDO!
2025-06-20 02:21:00,085 [INFO] [COM_EVENT] 👤 Usuario: 7265
2025-06-20 02:21:00,086 [INFO] [COM_EVENT] ✅ Válido: True
2025-06-20 02:21:00,086 [INFO] [COM_EVENT] 🔍 Método: 1
2025-06-20 02:21:00,087 [INFO] 🔍 HUELLA VERIFICADA - SOFTWARE DECIDE ACCESO
2025-06-20 02:21:00,087 [INFO] [STA_THREAD] 🔄 Procesando verificación para usuario 7265
2025-06-20 02:21:00,088 [INFO] [ACCESS] 🔍 === VERIFICACIÓN PURA FUNCIONAL INICIADA ===
2025-06-20 02:21:00,089 [INFO] [ACCESS] 👤 Usuario: 7265
2025-06-20 02:21:00,090 [INFO] [ACCESS] 🚨 F22 NO dio acceso automático - SOFTWARE DECIDE
2025-06-20 02:21:00,090 [INFO] [SECURITY] 🔐 Validación BULLETPROOF para usuario 7265
2025-06-20 02:21:01,165 [INFO] [SECURITY] 👤 Usuario encontrado: Erick Francisco De Luna (UUID: 67378a76-78dc-49d9-9864-83aef6754961)
2025-06-20 02:21:03,106 [INFO] [SECURITY] ✅ ACCESO AUTORIZADO para Erick Francisco De Luna (3.02s)
2025-06-20 02:21:03,107 [INFO] [ACCESS] ✅ ACCESO AUTORIZADO POR SOFTWARE
2025-06-20 02:21:03,107 [INFO] [ACCESS] 👤 Usuario: Erick Francisco De Luna
2025-06-20 02:21:03,107 [INFO] [ACCESS] 💳 Membresía: PRUEBA
2025-06-20 02:21:03,107 [INFO] [DOOR] ⚡ Activando ACUnlock FUNCIONAL por 5 segundos...
2025-06-20 02:21:03,108 [INFO] [DOOR] 🔓 MÉTODO 1: ACUnlock (FUNCIONAL)
2025-06-20 02:21:03,108 [INFO] [DOOR] 🔓 MÉTODO 2: ControlDevice (funcional)
2025-06-20 02:21:03,108 [ERROR] [DOOR] ❌ MÉTODOS FUNCIONALES fallaron
2025-06-20 02:21:03,108 [ERROR] [DOOR] 🔍 Verificar conexión física del relé
2025-06-20 02:21:03,988 [WARNING] [LOG] ⚠️ Error registrando acceso: 400
2025-06-20 02:21:03,989 [INFO] [ACCESS] 🚪 Puerta ERROR ❌
2025-06-20 02:21:03,989 [INFO] [ACCESS] 🔍 === VERIFICACIÓN PURA FUNCIONAL COMPLETADA ===
2025-06-20 02:21:08,487 [INFO] [COM_EVENT] 🎯 EVENTO 2 RECIBIDO!
2025-06-20 02:21:08,488 [INFO] [COM_EVENT] 👤 Usuario: 7265
2025-06-20 02:21:08,489 [INFO] [COM_EVENT] ✅ Válido: True
2025-06-20 02:21:08,489 [INFO] [COM_EVENT] 🔍 Método: 1
2025-06-20 02:21:08,490 [INFO] 🔍 HUELLA VERIFICADA - SOFTWARE DECIDE ACCESO
2025-06-20 02:21:08,490 [INFO] [STA_THREAD] 🔄 Procesando verificación para usuario 7265
2025-06-20 02:21:08,491 [INFO] [ACCESS] 🔍 === VERIFICACIÓN PURA FUNCIONAL INICIADA ===
2025-06-20 02:21:08,491 [INFO] [ACCESS] 👤 Usuario: 7265
2025-06-20 02:21:08,492 [INFO] [ACCESS] 🚨 F22 NO dio acceso automático - SOFTWARE DECIDE
2025-06-20 02:21:08,492 [INFO] [SECURITY] 🔐 Validación BULLETPROOF para usuario 7265
2025-06-20 02:21:08,493 [INFO] [ACCESS] ✅ ACCESO AUTORIZADO POR SOFTWARE
2025-06-20 02:21:08,493 [INFO] [ACCESS] 👤 Usuario: Erick Francisco De Luna
2025-06-20 02:21:08,493 [INFO] [ACCESS] 💳 Membresía: PRUEBA
2025-06-20 02:21:08,493 [INFO] [DOOR] ⚡ Activando ACUnlock FUNCIONAL por 5 segundos...
2025-06-20 02:21:08,493 [INFO] [DOOR] 🔓 MÉTODO 1: ACUnlock (FUNCIONAL)
2025-06-20 02:21:08,494 [INFO] [DOOR] 🔓 MÉTODO 2: ControlDevice (funcional)
2025-06-20 02:21:08,494 [ERROR] [DOOR] ❌ MÉTODOS FUNCIONALES fallaron
2025-06-20 02:21:08,494 [ERROR] [DOOR] 🔍 Verificar conexión física del relé
2025-06-20 02:21:09,380 [WARNING] [LOG] ⚠️ Error registrando acceso: 400
2025-06-20 02:21:09,381 [INFO] [ACCESS] 🚪 Puerta ERROR ❌
2025-06-20 02:21:09,381 [INFO] [ACCESS] 🔍 === VERIFICACIÓN PURA FUNCIONAL COMPLETADA ===
2025-06-20 02:21:31,708 [INFO] [COM_EVENT] 🎯 EVENTO 3 RECIBIDO!
2025-06-20 02:21:31,709 [INFO] [COM_EVENT] 👤 Usuario: 7265
2025-06-20 02:21:31,710 [INFO] [COM_EVENT] ✅ Válido: True
2025-06-20 02:21:31,710 [INFO] [COM_EVENT] 🔍 Método: 1
2025-06-20 02:21:31,711 [INFO] 🔍 HUELLA VERIFICADA - SOFTWARE DECIDE ACCESO
2025-06-20 02:21:31,711 [INFO] [STA_THREAD] 🔄 Procesando verificación para usuario 7265
2025-06-20 02:21:31,712 [INFO] [ACCESS] 🔍 === VERIFICACIÓN PURA FUNCIONAL INICIADA ===
2025-06-20 02:21:31,713 [INFO] [ACCESS] 👤 Usuario: 7265
2025-06-20 02:21:31,713 [INFO] [ACCESS] 🚨 F22 NO dio acceso automático - SOFTWARE DECIDE
2025-06-20 02:21:31,713 [INFO] [SECURITY] 🔐 Validación BULLETPROOF para usuario 7265
2025-06-20 02:21:31,714 [INFO] [ACCESS] ✅ ACCESO AUTORIZADO POR SOFTWARE
2025-06-20 02:21:31,714 [INFO] [ACCESS] 👤 Usuario: Erick Francisco De Luna
2025-06-20 02:21:31,715 [INFO] [ACCESS] 💳 Membresía: PRUEBA
2025-06-20 02:21:31,715 [INFO] [DOOR] ⚡ Activando ACUnlock FUNCIONAL por 5 segundos...
2025-06-20 02:21:31,715 [INFO] [DOOR] 🔓 MÉTODO 1: ACUnlock (FUNCIONAL)
2025-06-20 02:21:31,716 [INFO] [DOOR] 🔓 MÉTODO 2: ControlDevice (funcional)
2025-06-20 02:21:31,716 [ERROR] [DOOR] ❌ MÉTODOS FUNCIONALES fallaron
2025-06-20 02:21:31,716 [ERROR] [DOOR] 🔍 Verificar conexión física del relé
2025-06-20 02:21:32,767 [WARNING] [LOG] ⚠️ Error registrando acceso: 400
2025-06-20 02:21:32,768 [INFO] [ACCESS] 🚪 Puerta ERROR ❌
2025-06-20 02:21:32,768 [INFO] [ACCESS] 🔍 === VERIFICACIÓN PURA FUNCIONAL COMPLETADA ===
2025-06-20 02:23:07,204 [INFO] [SHUTDOWN] 🛑 Iniciando apagado FUNCIONAL (SIGINT)
2025-06-20 02:23:07,208 [INFO] [STA_THREAD] 🧹 Limpiando recursos FUNCIONALES...
2025-06-20 02:23:07,335 [INFO] [STA_THREAD] ✅ Recursos FUNCIONALES liberados
2025-06-20 02:23:07,337 [INFO] [STA_THREAD] 🧵 Thread STA FUNCIONAL finalizado
2025-06-20 02:23:07,928 [INFO] [SHUTDOWN] 🛑 Cerrando WebSocket F22 FUNCIONAL...
2025-06-20 02:23:07,930 [INFO] [SERVICE] 🛑 Deteniendo servicio FUNCIONAL...
2025-06-20 02:23:07,931 [INFO] [SERVICE] ✅ Servicio FUNCIONAL detenido
2025-06-20 02:23:07,931 [INFO] [SHUTDOWN] ✅ Sistema F22 FUNCIONAL cerrado limpiamente
2025-06-20 02:23:07,937 [INFO] [SHUTDOWN] 🧹 Limpiando recursos FUNCIONALES...
2025-06-20 02:23:07,938 [INFO] [SHUTDOWN] ✅ Recursos FUNCIONALES liberados
2025-06-20 02:23:16,926 [INFO] 
🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉
2025-06-20 02:23:16,926 [INFO] [STARTUP] SERVICIO F22 v5.1 FUNCIONAL - EVENTOS COM CONFIRMADOS
2025-06-20 02:23:16,926 [INFO] 🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉
2025-06-20 02:23:16,926 [INFO] [INFO] 📅 Fecha/Hora: 2025-06-20 08:15:29 UTC
2025-06-20 02:23:16,926 [INFO] [INFO] 👤 Usuario: mupai555
2025-06-20 02:23:16,926 [INFO] [INFO] 🔒 Modo de seguridad: ULTRA_STRICT
2025-06-20 02:23:16,926 [INFO] [INFO] 🚫 Offline mode: False (FALSE = SEGURO)
2025-06-20 02:23:16,926 [INFO] [INFO] 🌐 Dispositivo F22: 192.168.1.201:4370
2025-06-20 02:23:16,926 [INFO] [INFO] 🎯 Puerto WebSocket: 8082
2025-06-20 02:23:16,927 [INFO] 
2025-06-20 02:23:16,927 [INFO] [DIAGNOSIS] ✅ EVENTOS COM CONFIRMADOS FUNCIONANDO:
2025-06-20 02:23:16,927 [INFO]    🎯 OnAttTransactionEx recibido exitosamente
2025-06-20 02:23:16,927 [INFO]    👤 Usuario 7265 detectado correctamente
2025-06-20 02:23:16,927 [INFO]    ✅ Huella válida confirmada
2025-06-20 02:23:16,927 [INFO]    🔍 Método verificación = 1 (huella)
2025-06-20 02:23:16,927 [INFO]    💓 Heartbeat sin errores
2025-06-20 02:23:16,927 [INFO] 
2025-06-20 02:23:16,927 [INFO] [FEATURES] 🛡️ CARACTERÍSTICAS FUNCIONALES:
2025-06-20 02:23:16,927 [INFO]    ✅ STA Thread para eventos COM REALES confirmados
2025-06-20 02:23:16,927 [INFO]    ✅ DispatchWithEvents con sintaxis correcta
2025-06-20 02:23:16,927 [INFO]    ✅ pythoncom.PumpMessages() funcionando
2025-06-20 02:23:16,927 [INFO]    ✅ 🔐 Validación BULLETPROOF con tu esquema de BD
2025-06-20 02:23:16,927 [INFO]    ✅ 📋 fingerprint_templates -> Users -> user_memberships
2025-06-20 02:23:16,927 [INFO]    ✅ 📊 Logs automáticos en access_logs
2025-06-20 02:23:16,927 [INFO]    ✅ 🎯 Monitoreo en tiempo real con validación inmediata
2025-06-20 02:23:16,927 [INFO]    ✅ 🔍 MODO VERIFICACIÓN PURA - F22 NO da acceso automático
2025-06-20 02:23:16,927 [INFO]    ✅ 🔓 ACUnlock - FUNCIÓN PARA ABRIR PUERTAS
2025-06-20 02:23:16,927 [INFO]    ✅ 🚨 SOFTWARE CONTROLA ACCESO - NO EL DISPOSITIVO
2025-06-20 02:23:16,928 [INFO]    ✅ 🔒 CERO tolerancia a errores de seguridad
2025-06-20 02:23:16,928 [INFO]    ✅ 🎮 WebSocket API completa SIN ERRORES
2025-06-20 02:23:16,928 [INFO]    ✅ 🎉 BASADO EN DIAGNÓSTICO EXITOSO
2025-06-20 02:23:16,928 [INFO] 🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉
2025-06-20 02:23:16,928 [INFO] [STARTUP] 🔗 Iniciando conexión F22 FUNCIONAL...
2025-06-20 02:23:16,928 [INFO] [SERVICE] 🚀 Iniciando servicio F22 FUNCIONAL v5.1...
2025-06-20 02:23:16,928 [INFO] [VERIFY] 🔍 Verificando conexión a Supabase...
2025-06-20 02:23:17,729 [INFO] [VERIFY] ✅ Conexión a Supabase verificada
2025-06-20 02:23:17,730 [INFO] [STA_THREAD] 🧵 Thread STA FUNCIONAL inicializado
2025-06-20 02:23:17,731 [INFO] [STA_THREAD] ✅ COM inicializado en modo STA
2025-06-20 02:23:17,731 [INFO] [STA_THREAD] 🔗 Conectando a F22 FUNCIONAL en 192.168.1.201:4370
2025-06-20 02:23:18,451 [INFO] [STA_THREAD] ✅ Conectado al F22
2025-06-20 02:23:18,451 [INFO] [STA_THREAD] 📋 Info dispositivo: {'serial': 'BOCK192461543', 'firmware': 'Unknown'}
2025-06-20 02:23:18,451 [INFO] [STA_THREAD] 🔧 Aplicando configuración FUNCIONAL...
2025-06-20 02:23:18,649 [INFO] [FUNCTIONAL] ✅ Realtime = 1
2025-06-20 02:23:18,736 [INFO] [SUCCESS] ✅ Servicio F22 FUNCIONAL iniciado
2025-06-20 02:23:18,738 [INFO] [SUCCESS] 🔍 Eventos COM FUNCIONALES activos
2025-06-20 02:23:18,739 [INFO] [SUCCESS] 🎯 Validación con tu BD activa
2025-06-20 02:23:18,739 [INFO] [SUCCESS] 🔓 Control de puerta con ACUnlock FUNCIONAL
2025-06-20 02:23:18,740 [INFO] [SUCCESS] 🚨 F22 configurado en VERIFICACIÓN PURA
2025-06-20 02:23:18,741 [INFO] [STARTUP] ✅ Conexión F22 FUNCIONAL establecida
2025-06-20 02:23:18,741 [INFO] [STARTUP] 🌐 Iniciando WebSocket F22 FUNCIONAL...
2025-06-20 02:23:18,760 [INFO] [SUCCESS] 🚀 Sistema F22 FUNCIONAL activo en puerto 8082
2025-06-20 02:23:18,760 [INFO] 
2025-06-20 02:23:18,761 [INFO] [READY] 🎯 Sistema listo - CON VERIFICACIÓN PURA FUNCIONAL
2025-06-20 02:23:18,761 [INFO] [READY] 🔍 Eventos COM confirmados funcionando
2025-06-20 02:23:18,761 [INFO] [READY] 📊 Logs automáticos en access_logs activos
2025-06-20 02:23:18,761 [INFO] [READY] 🔓 Control de puerta con ACUnlock FUNCIONAL
2025-06-20 02:23:18,761 [INFO] [READY] 🚨 F22 configurado en MODO VERIFICACIÓN PURA
2025-06-20 02:23:18,762 [INFO] [READY] ⚡ SOFTWARE CONTROLA EL ACCESO - NO EL DISPOSITIVO
2025-06-20 02:23:18,762 [INFO] 
2025-06-20 02:23:18,762 [INFO] [CONFIRMED] 🎉 FUNCIONAMIENTO CONFIRMADO:
2025-06-20 02:23:18,762 [INFO]    1. ✅ Usuario 7265 ya detectado exitosamente
2025-06-20 02:23:18,762 [INFO]    2. ✅ Eventos COM funcionando perfectamente
2025-06-20 02:23:18,762 [INFO]    3. ✅ Validación BULLETPROOF lista
2025-06-20 02:23:18,762 [INFO]    4. ✅ Control de puerta funcional
2025-06-20 02:23:18,762 [INFO]    5. ✅ Logs automáticos activos
2025-06-20 02:23:18,762 [INFO] 
2025-06-20 02:23:18,762 [INFO] [TEST] 🧪 PRUEBA LAS FUNCIONALIDADES:
2025-06-20 02:23:18,763 [INFO]    1. 👤 Usuario CON membresía activa → SOFTWARE decide y abre puerta ✅
2025-06-20 02:23:18,763 [INFO]    2. ❌ Usuario SIN membresía → SOFTWARE deniega acceso (NO el F22)
2025-06-20 02:23:18,763 [INFO]    3. ❓ Usuario no registrado → SOFTWARE deniega acceso
2025-06-20 02:23:18,763 [INFO]    4. ⏰ Usuario fuera de horario → SOFTWARE deniega acceso
2025-06-20 02:23:18,763 [INFO]    5. 🔓 Probar apertura manual → Usar 'open_door' (ACUnlock)
2025-06-20 02:23:18,763 [INFO]    6. 📊 Verificar logs en access_logs automáticamente
2025-06-20 02:23:18,763 [INFO] 
2025-06-20 02:23:18,763 [INFO] [WEBSOCKET] 🌐 API FUNCIONAL disponible en:
2025-06-20 02:23:18,763 [INFO]    ws://127.0.0.1:8082
2025-06-20 02:23:18,763 [INFO] 
2025-06-20 02:23:18,763 [INFO] [API] 🎮 Acciones disponibles:
2025-06-20 02:23:18,763 [INFO]    - get_device_info: Info del dispositivo + eventos recibidos
2025-06-20 02:23:18,763 [INFO]    - test_access: Probar validación de usuario (ej: 7265)
2025-06-20 02:23:18,763 [INFO]    - open_door: Abrir puerta con ACUnlock (FUNCIONAL)
2025-06-20 02:23:18,763 [INFO]    - connect_device: Conectar dispositivo
2025-06-20 02:23:18,763 [INFO]    - disconnect_device: Desconectar dispositivo
2025-06-20 02:23:18,763 [INFO]    - get_service_status: Estado completo del servicio
2025-06-20 02:23:18,763 [INFO] 
2025-06-20 02:23:18,763 [INFO] 🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉
2025-06-20 02:23:18,763 [INFO] [STATUS] ✅ SISTEMA F22 FUNCIONAL CON VERIFICACIÓN PURA ACTIVO
2025-06-20 02:23:18,763 [INFO] [STATUS] 👆 PON TU DEDO EN EL F22 - EVENTOS CONFIRMADOS
2025-06-20 02:23:18,763 [INFO] [STATUS] 🔍 F22 SOLO VERIFICA - SOFTWARE DECIDE ACCESO
2025-06-20 02:23:18,764 [INFO] [STATUS] 🔓 LA PUERTA SOLO SE ABRE SI SOFTWARE LO AUTORIZA
2025-06-20 02:23:18,764 [INFO] [STATUS] 📝 EVENTOS COM FUNCIONANDO AL 100%
2025-06-20 02:23:18,764 [INFO] [STATUS] 🎉 BASADO EN DIAGNÓSTICO EXITOSO
2025-06-20 02:23:18,764 [INFO] 🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉
2025-06-20 02:23:18,882 [INFO] [FUNCTIONAL] ✅ AutoOpenDoor = 0
2025-06-20 02:23:19,120 [INFO] [FUNCTIONAL] ✅ VerifyMode = 1
2025-06-20 02:23:19,359 [INFO] [FUNCTIONAL] ✅ AttState = 255
2025-06-20 02:23:19,407 [INFO] [FUNCTIONAL] ✅ WorkCode = 0
2025-06-20 02:23:19,455 [INFO] [FUNCTIONAL] ✅ Dispositivo ACTIVO para lectura
2025-06-20 02:23:19,502 [INFO] [FUNCTIONAL] ✅ Configuración refrescada
2025-06-20 02:23:19,503 [INFO] [FUNCTIONAL] ✅ Configuración aplicada: 7 opciones
2025-06-20 02:23:19,503 [INFO] [FUNCTIONAL] 🔍 F22 configurado como VERIFICADOR (NO auto-acceso)
2025-06-20 02:23:19,504 [INFO] [FUNCTIONAL] ⚡ Control de puerta: MANUAL con ACUnlock
2025-06-20 02:23:19,550 [INFO] [STA_THREAD] ✅ Eventos COM registrados (FUNCIONAL)
2025-06-20 02:23:19,551 [INFO] [STA_THREAD] 🚀 Monitoreo FUNCIONAL con eventos COM activo
2025-06-20 02:23:19,552 [INFO] [STA_THREAD] 🔍 F22 configurado en MODO VERIFICACIÓN PURA
2025-06-20 02:23:19,552 [INFO] [STA_THREAD] 🔓 Control de puerta con ACUnlock FUNCIONAL
2025-06-20 02:23:19,553 [INFO] [STA_THREAD] 🔄 Iniciando loop STA FUNCIONAL
2025-06-20 02:23:45,688 [INFO] [COM_EVENT] 🎯 EVENTO 1 RECIBIDO!
2025-06-20 02:23:45,689 [INFO] [COM_EVENT] 👤 Usuario: 7265
2025-06-20 02:23:45,689 [INFO] [COM_EVENT] ✅ Válido: True
2025-06-20 02:23:45,690 [INFO] [COM_EVENT] 🔍 Método: 1
2025-06-20 02:23:45,691 [INFO] 🔍 HUELLA VERIFICADA - SOFTWARE DECIDE ACCESO
2025-06-20 02:23:45,691 [INFO] [STA_THREAD] 🔄 Procesando verificación para usuario 7265
2025-06-20 02:23:45,692 [INFO] [ACCESS] 🔍 === VERIFICACIÓN PURA FUNCIONAL INICIADA ===
2025-06-20 02:23:45,693 [INFO] [ACCESS] 👤 Usuario: 7265
2025-06-20 02:23:45,694 [INFO] [ACCESS] 🚨 F22 NO dio acceso automático - SOFTWARE DECIDE
2025-06-20 02:23:45,694 [INFO] [SECURITY] 🔐 Validación BULLETPROOF para usuario 7265
2025-06-20 02:23:47,008 [INFO] [SECURITY] 👤 Usuario encontrado: Erick Francisco De Luna (UUID: 67378a76-78dc-49d9-9864-83aef6754961)
2025-06-20 02:23:49,086 [WARNING] [SECURITY] ⏰ Fuera de horario: Fuera de horario (06:00 - 02:00)
2025-06-20 02:23:49,086 [WARNING] [ACCESS] ❌ ACCESO DENEGADO POR SOFTWARE
2025-06-20 02:23:49,087 [WARNING] [ACCESS] 👤 Usuario: Erick Francisco De Luna
2025-06-20 02:23:49,087 [WARNING] [ACCESS] 📝 Razón: Fuera de horario (06:00 - 02:00)
2025-06-20 02:23:50,086 [WARNING] [LOG] ⚠️ Error registrando acceso: 400
2025-06-20 02:23:50,087 [INFO] [ACCESS] 🔍 === VERIFICACIÓN PURA FUNCIONAL COMPLETADA ===
2025-06-20 02:24:14,136 [INFO] [SHUTDOWN] 🛑 Iniciando apagado FUNCIONAL (SIGINT)
2025-06-20 02:24:14,146 [INFO] [STA_THREAD] 🧹 Limpiando recursos FUNCIONALES...
2025-06-20 02:24:14,242 [INFO] [STA_THREAD] ✅ Recursos FUNCIONALES liberados
2025-06-20 02:24:14,243 [INFO] [STA_THREAD] 🧵 Thread STA FUNCIONAL finalizado
2025-06-20 02:24:14,828 [INFO] [SHUTDOWN] 🛑 Cerrando WebSocket F22 FUNCIONAL...
2025-06-20 02:24:14,828 [INFO] [SERVICE] 🛑 Deteniendo servicio FUNCIONAL...
2025-06-20 02:24:14,828 [INFO] [SERVICE] ✅ Servicio FUNCIONAL detenido
2025-06-20 02:24:14,829 [INFO] [SHUTDOWN] ✅ Sistema F22 FUNCIONAL cerrado limpiamente
2025-06-20 02:24:14,833 [INFO] [SHUTDOWN] 🧹 Limpiando recursos FUNCIONALES...
2025-06-20 02:24:14,839 [INFO] [SHUTDOWN] ✅ Recursos FUNCIONALES liberados
2025-06-20 02:27:19,192 [INFO] 
🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉
2025-06-20 02:27:19,192 [INFO] [STARTUP] SERVICIO F22 v5.1 FUNCIONAL - EVENTOS COM CONFIRMADOS
2025-06-20 02:27:19,192 [INFO] 🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉
2025-06-20 02:27:19,192 [INFO] [INFO] 📅 Fecha/Hora: 2025-06-20 08:15:29 UTC
2025-06-20 02:27:19,192 [INFO] [INFO] 👤 Usuario: mupai555
2025-06-20 02:27:19,192 [INFO] [INFO] 🔒 Modo de seguridad: ULTRA_STRICT
2025-06-20 02:27:19,193 [INFO] [INFO] 🚫 Offline mode: False (FALSE = SEGURO)
2025-06-20 02:27:19,193 [INFO] [INFO] 🌐 Dispositivo F22: 192.168.1.201:4370
2025-06-20 02:27:19,193 [INFO] [INFO] 🎯 Puerto WebSocket: 8082
2025-06-20 02:27:19,193 [INFO] 
2025-06-20 02:27:19,193 [INFO] [DIAGNOSIS] ✅ EVENTOS COM CONFIRMADOS FUNCIONANDO:
2025-06-20 02:27:19,193 [INFO]    🎯 OnAttTransactionEx recibido exitosamente
2025-06-20 02:27:19,193 [INFO]    👤 Usuario 7265 detectado correctamente
2025-06-20 02:27:19,193 [INFO]    ✅ Huella válida confirmada
2025-06-20 02:27:19,194 [INFO]    🔍 Método verificación = 1 (huella)
2025-06-20 02:27:19,194 [INFO]    💓 Heartbeat sin errores
2025-06-20 02:27:19,194 [INFO] 
2025-06-20 02:27:19,194 [INFO] [FEATURES] 🛡️ CARACTERÍSTICAS FUNCIONALES:
2025-06-20 02:27:19,194 [INFO]    ✅ STA Thread para eventos COM REALES confirmados
2025-06-20 02:27:19,194 [INFO]    ✅ DispatchWithEvents con sintaxis correcta
2025-06-20 02:27:19,194 [INFO]    ✅ pythoncom.PumpMessages() funcionando
2025-06-20 02:27:19,194 [INFO]    ✅ 🔐 Validación BULLETPROOF con tu esquema de BD
2025-06-20 02:27:19,194 [INFO]    ✅ 📋 fingerprint_templates -> Users -> user_memberships
2025-06-20 02:27:19,194 [INFO]    ✅ 📊 Logs automáticos en access_logs
2025-06-20 02:27:19,194 [INFO]    ✅ 🎯 Monitoreo en tiempo real con validación inmediata
2025-06-20 02:27:19,194 [INFO]    ✅ 🔍 MODO VERIFICACIÓN PURA - F22 NO da acceso automático
2025-06-20 02:27:19,194 [INFO]    ✅ 🔓 ACUnlock - FUNCIÓN PARA ABRIR PUERTAS
2025-06-20 02:27:19,194 [INFO]    ✅ 🚨 SOFTWARE CONTROLA ACCESO - NO EL DISPOSITIVO
2025-06-20 02:27:19,194 [INFO]    ✅ 🔒 CERO tolerancia a errores de seguridad
2025-06-20 02:27:19,194 [INFO]    ✅ 🎮 WebSocket API completa SIN ERRORES
2025-06-20 02:27:19,194 [INFO]    ✅ 🎉 BASADO EN DIAGNÓSTICO EXITOSO
2025-06-20 02:27:19,194 [INFO] 🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉
2025-06-20 02:27:19,194 [INFO] [STARTUP] 🔗 Iniciando conexión F22 FUNCIONAL...
2025-06-20 02:27:19,194 [INFO] [SERVICE] 🚀 Iniciando servicio F22 FUNCIONAL v5.1...
2025-06-20 02:27:19,195 [INFO] [VERIFY] 🔍 Verificando conexión a Supabase...
2025-06-20 02:27:20,623 [INFO] [VERIFY] ✅ Conexión a Supabase verificada
2025-06-20 02:27:20,623 [INFO] [STA_THREAD] 🧵 Thread STA FUNCIONAL inicializado
2025-06-20 02:27:20,624 [INFO] [STA_THREAD] ✅ COM inicializado en modo STA
2025-06-20 02:27:20,625 [INFO] [STA_THREAD] 🔗 Conectando a F22 FUNCIONAL en 192.168.1.201:4370
2025-06-20 02:27:21,286 [INFO] [STA_THREAD] ✅ Conectado al F22
2025-06-20 02:27:21,286 [INFO] [STA_THREAD] 📋 Info dispositivo: {'serial': 'BOCK192461543', 'firmware': 'Unknown'}
2025-06-20 02:27:21,287 [INFO] [STA_THREAD] 🔧 Aplicando configuración FUNCIONAL...
2025-06-20 02:27:21,478 [INFO] [FUNCTIONAL] ✅ Realtime = 1
2025-06-20 02:27:21,629 [INFO] [SUCCESS] ✅ Servicio F22 FUNCIONAL iniciado
2025-06-20 02:27:21,631 [INFO] [SUCCESS] 🔍 Eventos COM FUNCIONALES activos
2025-06-20 02:27:21,631 [INFO] [SUCCESS] 🎯 Validación con tu BD activa
2025-06-20 02:27:21,632 [INFO] [SUCCESS] 🔓 Control de puerta con ACUnlock FUNCIONAL
2025-06-20 02:27:21,633 [INFO] [SUCCESS] 🚨 F22 configurado en VERIFICACIÓN PURA
2025-06-20 02:27:21,633 [INFO] [STARTUP] ✅ Conexión F22 FUNCIONAL establecida
2025-06-20 02:27:21,634 [INFO] [STARTUP] 🌐 Iniciando WebSocket F22 FUNCIONAL...
2025-06-20 02:27:21,650 [INFO] [SUCCESS] 🚀 Sistema F22 FUNCIONAL activo en puerto 8082
2025-06-20 02:27:21,650 [INFO] 
2025-06-20 02:27:21,650 [INFO] [READY] 🎯 Sistema listo - CON VERIFICACIÓN PURA FUNCIONAL
2025-06-20 02:27:21,650 [INFO] [READY] 🔍 Eventos COM confirmados funcionando
2025-06-20 02:27:21,651 [INFO] [READY] 📊 Logs automáticos en access_logs activos
2025-06-20 02:27:21,651 [INFO] [READY] 🔓 Control de puerta con ACUnlock FUNCIONAL
2025-06-20 02:27:21,651 [INFO] [READY] 🚨 F22 configurado en MODO VERIFICACIÓN PURA
2025-06-20 02:27:21,651 [INFO] [READY] ⚡ SOFTWARE CONTROLA EL ACCESO - NO EL DISPOSITIVO
2025-06-20 02:27:21,651 [INFO] 
2025-06-20 02:27:21,651 [INFO] [CONFIRMED] 🎉 FUNCIONAMIENTO CONFIRMADO:
2025-06-20 02:27:21,651 [INFO]    1. ✅ Usuario 7265 ya detectado exitosamente
2025-06-20 02:27:21,652 [INFO]    2. ✅ Eventos COM funcionando perfectamente
2025-06-20 02:27:21,652 [INFO]    3. ✅ Validación BULLETPROOF lista
2025-06-20 02:27:21,652 [INFO]    4. ✅ Control de puerta funcional
2025-06-20 02:27:21,652 [INFO]    5. ✅ Logs automáticos activos
2025-06-20 02:27:21,652 [INFO] 
2025-06-20 02:27:21,652 [INFO] [TEST] 🧪 PRUEBA LAS FUNCIONALIDADES:
2025-06-20 02:27:21,652 [INFO]    1. 👤 Usuario CON membresía activa → SOFTWARE decide y abre puerta ✅
2025-06-20 02:27:21,652 [INFO]    2. ❌ Usuario SIN membresía → SOFTWARE deniega acceso (NO el F22)
2025-06-20 02:27:21,652 [INFO]    3. ❓ Usuario no registrado → SOFTWARE deniega acceso
2025-06-20 02:27:21,652 [INFO]    4. ⏰ Usuario fuera de horario → SOFTWARE deniega acceso
2025-06-20 02:27:21,653 [INFO]    5. 🔓 Probar apertura manual → Usar 'open_door' (ACUnlock)
2025-06-20 02:27:21,653 [INFO]    6. 📊 Verificar logs en access_logs automáticamente
2025-06-20 02:27:21,653 [INFO] 
2025-06-20 02:27:21,653 [INFO] [WEBSOCKET] 🌐 API FUNCIONAL disponible en:
2025-06-20 02:27:21,653 [INFO]    ws://127.0.0.1:8082
2025-06-20 02:27:21,653 [INFO] 
2025-06-20 02:27:21,653 [INFO] [API] 🎮 Acciones disponibles:
2025-06-20 02:27:21,653 [INFO]    - get_device_info: Info del dispositivo + eventos recibidos
2025-06-20 02:27:21,653 [INFO]    - test_access: Probar validación de usuario (ej: 7265)
2025-06-20 02:27:21,653 [INFO]    - open_door: Abrir puerta con ACUnlock (FUNCIONAL)
2025-06-20 02:27:21,653 [INFO]    - connect_device: Conectar dispositivo
2025-06-20 02:27:21,653 [INFO]    - disconnect_device: Desconectar dispositivo
2025-06-20 02:27:21,653 [INFO]    - get_service_status: Estado completo del servicio
2025-06-20 02:27:21,653 [INFO] 
2025-06-20 02:27:21,653 [INFO] 🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉
2025-06-20 02:27:21,653 [INFO] [STATUS] ✅ SISTEMA F22 FUNCIONAL CON VERIFICACIÓN PURA ACTIVO
2025-06-20 02:27:21,654 [INFO] [STATUS] 👆 PON TU DEDO EN EL F22 - EVENTOS CONFIRMADOS
2025-06-20 02:27:21,654 [INFO] [STATUS] 🔍 F22 SOLO VERIFICA - SOFTWARE DECIDE ACCESO
2025-06-20 02:27:21,654 [INFO] [STATUS] 🔓 LA PUERTA SOLO SE ABRE SI SOFTWARE LO AUTORIZA
2025-06-20 02:27:21,654 [INFO] [STATUS] 📝 EVENTOS COM FUNCIONANDO AL 100%
2025-06-20 02:27:21,654 [INFO] [STATUS] 🎉 BASADO EN DIAGNÓSTICO EXITOSO
2025-06-20 02:27:21,654 [INFO] 🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉🎉
2025-06-20 02:27:21,709 [INFO] [FUNCTIONAL] ✅ AutoOpenDoor = 0
2025-06-20 02:27:21,948 [INFO] [FUNCTIONAL] ✅ VerifyMode = 1
2025-06-20 02:27:22,145 [INFO] [FUNCTIONAL] ✅ AttState = 255
2025-06-20 02:27:22,183 [INFO] [FUNCTIONAL] ✅ WorkCode = 0
2025-06-20 02:27:22,231 [INFO] [FUNCTIONAL] ✅ Dispositivo ACTIVO para lectura
2025-06-20 02:27:22,279 [INFO] [FUNCTIONAL] ✅ Configuración refrescada
2025-06-20 02:27:22,279 [INFO] [FUNCTIONAL] ✅ Configuración aplicada: 7 opciones
2025-06-20 02:27:22,280 [INFO] [FUNCTIONAL] 🔍 F22 configurado como VERIFICADOR (NO auto-acceso)
2025-06-20 02:27:22,281 [INFO] [FUNCTIONAL] ⚡ Control de puerta: MANUAL con ACUnlock
2025-06-20 02:27:22,326 [INFO] [STA_THREAD] ✅ Eventos COM registrados (FUNCIONAL)
2025-06-20 02:27:22,327 [INFO] [STA_THREAD] 🚀 Monitoreo FUNCIONAL con eventos COM activo
2025-06-20 02:27:22,328 [INFO] [STA_THREAD] 🔍 F22 configurado en MODO VERIFICACIÓN PURA
2025-06-20 02:27:22,328 [INFO] [STA_THREAD] 🔓 Control de puerta con ACUnlock FUNCIONAL
2025-06-20 02:27:22,328 [INFO] [STA_THREAD] 🔄 Iniciando loop STA FUNCIONAL
2025-06-20 02:27:47,389 [INFO] [COM_EVENT] 🎯 EVENTO 1 RECIBIDO!
2025-06-20 02:27:47,389 [INFO] [COM_EVENT] 👤 Usuario: 7265
2025-06-20 02:27:47,389 [INFO] [COM_EVENT] ✅ Válido: True
2025-06-20 02:27:47,390 [INFO] [COM_EVENT] 🔍 Método: 1
2025-06-20 02:27:47,390 [INFO] 🔍 HUELLA VERIFICADA - SOFTWARE DECIDE ACCESO
2025-06-20 02:27:47,390 [INFO] [STA_THREAD] 🔄 Procesando verificación para usuario 7265
2025-06-20 02:27:47,390 [INFO] [ACCESS] 🔍 === VERIFICACIÓN PURA FUNCIONAL INICIADA ===
2025-06-20 02:27:47,390 [INFO] [ACCESS] 👤 Usuario: 7265
2025-06-20 02:27:47,391 [INFO] [ACCESS] 🚨 F22 NO dio acceso automático - SOFTWARE DECIDE
2025-06-20 02:27:47,391 [INFO] [SECURITY] 🔐 Validación BULLETPROOF para usuario 7265
2025-06-20 02:27:48,579 [INFO] [SECURITY] 👤 Usuario encontrado: Erick Francisco De Luna (UUID: 67378a76-78dc-49d9-9864-83aef6754961)
2025-06-20 02:27:49,505 [WARNING] [SECURITY] ❌ Membresía inválida: Sin membresía activa registrada
2025-06-20 02:27:49,505 [WARNING] [SECURITY] ⚠️ Intento fallido #1 para 7265: membership_invalid
2025-06-20 02:27:49,506 [WARNING] [ACCESS] ❌ ACCESO DENEGADO POR SOFTWARE
2025-06-20 02:27:49,506 [WARNING] [ACCESS] 👤 Usuario: Erick Francisco De Luna
2025-06-20 02:27:49,506 [WARNING] [ACCESS] 📝 Razón: Sin membresía activa registrada
2025-06-20 02:27:50,420 [WARNING] [LOG] ⚠️ Error registrando acceso: 400
2025-06-20 02:27:50,421 [INFO] [ACCESS] 🔍 === VERIFICACIÓN PURA FUNCIONAL COMPLETADA ===
2025-06-20 02:32:22,014 [INFO] [STATUS] 📊 === STATUS FUNCIONAL CON VERIFICACIÓN PURA ===
2025-06-20 02:32:22,015 [INFO] [STATUS] ⏰ Uptime: 0:05:02.824185
2025-06-20 02:32:22,015 [INFO] [STATUS] 🧵 STA Thread: ✅ ACTIVO
2025-06-20 02:32:22,016 [INFO] [STATUS] 📡 Eventos COM: ✅ ACTIVOS
2025-06-20 02:32:22,016 [INFO] [STATUS] 🎯 Eventos recibidos: 1
2025-06-20 02:32:22,017 [INFO] [STATUS] 👥 Clientes WebSocket: 0
2025-06-20 02:32:22,018 [INFO] [STATUS] 📈 Eventos procesados: 1
2025-06-20 02:32:22,018 [INFO] [STATUS] ✅ Accesos permitidos por SOFTWARE: 0
2025-06-20 02:32:22,019 [INFO] [STATUS] ❌ Accesos denegados por SOFTWARE: 1
2025-06-20 02:32:22,019 [INFO] [STATUS] 🚨 Violaciones de seguridad: 0
2025-06-20 02:32:22,020 [INFO] [STATUS] 🔓 Puertas abiertas con ACUnlock: 0
2025-06-20 02:32:22,020 [INFO] [STATUS] ❌ Errores de puerta: 0
2025-06-20 02:32:22,021 [INFO] [STATUS] 🔍 Modo: VERIFICACIÓN PURA FUNCIONAL
2025-06-20 02:32:22,022 [INFO] [STATUS] 🎉 EVENTOS COM: CONFIRMADOS FUNCIONANDO
2025-06-20 02:37:11,862 [INFO] [SHUTDOWN] 🛑 Iniciando apagado FUNCIONAL (SIGINT)
2025-06-20 02:37:11,862 [INFO] [STA_THREAD] 🧹 Limpiando recursos FUNCIONALES...
2025-06-20 02:37:12,000 [INFO] [STA_THREAD] ✅ Recursos FUNCIONALES liberados
2025-06-20 02:37:12,001 [INFO] [STA_THREAD] 🧵 Thread STA FUNCIONAL finalizado
2025-06-20 02:37:12,045 [INFO] [SHUTDOWN] 🛑 Cerrando WebSocket F22 FUNCIONAL...
2025-06-20 02:37:12,047 [INFO] [SERVICE] 🛑 Deteniendo servicio FUNCIONAL...
2025-06-20 02:37:12,047 [INFO] [SERVICE] ✅ Servicio FUNCIONAL detenido
2025-06-20 02:37:12,047 [INFO] [SHUTDOWN] ✅ Sistema F22 FUNCIONAL cerrado limpiamente
2025-06-20 02:37:12,053 [INFO] [SHUTDOWN] 🧹 Limpiando recursos FUNCIONALES...
2025-06-20 02:37:12,053 [INFO] [SHUTDOWN] ✅ Recursos FUNCIONALES liberados
