2025-06-18 23:46:53,923 [INFO] ğŸš€================================================================================
2025-06-18 23:46:53,923 [INFO] ğŸš€ INICIANDO F22 WEBSOCKET SERVICE - VERSIÃ“N FINAL
2025-06-18 23:46:53,923 [INFO] ğŸš€================================================================================
2025-06-18 23:46:53,924 [INFO] ğŸ“… Fecha: 2025-06-19 05:32:16 UTC
2025-06-18 23:46:53,924 [INFO] ğŸ‘¤ Desarrollado por: luishdz04
2025-06-18 23:46:53,924 [INFO] ğŸ”§ SDK: Oficial ZKTeco (zkemkeeper.dll)
2025-06-18 23:46:53,924 [INFO] ğŸŒ Puerto WebSocket: 8082
2025-06-18 23:46:53,926 [INFO] ğŸ¢ Dispositivo F22: 192.168.1.201:4370
2025-06-18 23:46:53,926 [INFO] ğŸ¯ MÃ¡quina: 1
2025-06-18 23:46:53,926 [INFO] 
2025-06-18 23:46:53,926 [INFO] âœ… FUNCIONALIDADES ACTIVAS:
2025-06-18 23:46:53,927 [INFO]    ğŸ”„ sync_template_from_db - Sincronizar huellas desde BD
2025-06-18 23:46:53,927 [INFO]    ğŸ—‘ï¸ delete_user - Eliminar huellas especÃ­ficas (conservar usuario)
2025-06-18 23:46:53,927 [INFO]    ğŸ—‘ï¸ delete_template - Eliminar template especÃ­fico
2025-06-18 23:46:53,927 [INFO]    ğŸ¢ IntegraciÃ³n Supabase - Nombres formato 'MUP - Nombre Apellido'
2025-06-18 23:46:53,927 [INFO]    ğŸ›¡ï¸ Manejo COM robusto - Sin crashes
2025-06-18 23:46:53,927 [INFO]    ğŸ“Š Logging completo - Trazabilidad total
2025-06-18 23:46:53,927 [INFO] âœ… ConfiguraciÃ³n Supabase: ACTIVA
2025-06-18 23:46:53,927 [INFO]    ğŸ“¡ URL: https://tyuuyqypgwvdtpfvumxx.supabase.co
2025-06-18 23:46:53,927 [INFO] ğŸš€================================================================================
2025-06-18 23:46:53,939 [INFO] server listening on 127.0.0.1:8082
2025-06-18 23:46:53,939 [INFO] âœ… Servidor WebSocket ACTIVO en ws://127.0.0.1:8082
2025-06-18 23:46:53,939 [INFO] â³ Esperando conexiones de clientes...
2025-06-18 23:46:53,939 [INFO] ğŸ”„ Servicio listo para operaciones de sincronizaciÃ³n...
2025-06-19 01:00:16,227 [INFO] server closing
2025-06-19 01:00:16,228 [INFO] server closed
2025-06-19 01:00:16,230 [INFO] â›” Servicio detenido por el usuario
2025-06-19 01:05:11,244 [INFO] ğŸš€================================================================================
2025-06-19 01:05:11,244 [INFO] ğŸš€ INICIANDO F22 WEBSOCKET SERVICE - VERSIÃ“N FINAL CORREGIDA
2025-06-19 01:05:11,244 [INFO] ğŸš€================================================================================
2025-06-19 01:05:11,245 [INFO] ğŸ“… Fecha: 2025-06-19 07:01:10 UTC
2025-06-19 01:05:11,245 [INFO] ğŸ‘¤ Desarrollado por: luishdz04
2025-06-19 01:05:11,245 [INFO] ğŸ”§ SDK: Oficial ZKTeco (zkemkeeper.dll)
2025-06-19 01:05:11,245 [INFO] ğŸŒ Puerto WebSocket: 8082
2025-06-19 01:05:11,245 [INFO] ğŸ¢ Dispositivo F22: 192.168.1.201:4370
2025-06-19 01:05:11,245 [INFO] ğŸ¯ MÃ¡quina: 1
2025-06-19 01:05:11,245 [INFO] 
2025-06-19 01:05:11,245 [INFO] âœ… FUNCIONALIDADES ACTIVAS:
2025-06-19 01:05:11,245 [INFO]    ğŸ”„ sync_template_from_db - Sincronizar huellas desde BD
2025-06-19 01:05:11,245 [INFO]    ğŸ—‘ï¸ delete_user - Eliminar huellas especÃ­ficas (conservar usuario)
2025-06-19 01:05:11,245 [INFO]    ğŸ—‘ï¸ delete_template - Eliminar template especÃ­fico
2025-06-19 01:05:11,245 [INFO]    ğŸ¢ IntegraciÃ³n Supabase - Nombres formato 'MUP - Nombre Apellido'
2025-06-19 01:05:11,245 [INFO]    ğŸ›¡ï¸ Manejo COM robusto - Sin crashes
2025-06-19 01:05:11,245 [INFO]    ğŸ“Š Logging completo - Trazabilidad total
2025-06-19 01:05:11,245 [INFO]    âœ… Respuestas corregidas - Compatible con frontend actualizado
2025-06-19 01:05:11,245 [INFO] âœ… ConfiguraciÃ³n Supabase: ACTIVA
2025-06-19 01:05:11,246 [INFO]    ğŸ“¡ URL: https://tyuuyqypgwvdtpfvumxx.supabase.co
2025-06-19 01:05:11,246 [INFO] ğŸš€================================================================================
2025-06-19 01:05:11,258 [INFO] server listening on 127.0.0.1:8082
2025-06-19 01:05:11,258 [INFO] âœ… Servidor WebSocket ACTIVO en ws://127.0.0.1:8082
2025-06-19 01:05:11,258 [INFO] â³ Esperando conexiones de clientes...
2025-06-19 01:05:11,258 [INFO] ğŸ”„ Servicio listo para operaciones de sincronizaciÃ³n...
2025-06-19 01:10:52,358 [INFO] connection open
2025-06-19 01:10:52,359 [INFO] ğŸ”Œ [WS] Cliente conectado: 2470882368144
2025-06-19 01:10:52,399 [INFO] ğŸ¯ [MSG] AcciÃ³n recibida: connect_device
2025-06-19 01:10:52,400 [INFO] ğŸ”Œ [CONNECT] Conectando a F22 en 192.168.1.201:4370...
2025-06-19 01:10:53,091 [INFO] âœ… [CONNECT] ConexiÃ³n exitosa con F22 usando SDK oficial
2025-06-19 01:10:53,093 [ERROR] âŒ [COM] Error en get_user_count: zkemkeeper.ZKEM.GetUserCount
2025-06-19 01:10:53,093 [WARNING] âš ï¸ [INFO] Error obteniendo conteo de usuarios: zkemkeeper.ZKEM.GetUserCount
2025-06-19 01:10:53,137 [INFO] ğŸ¯ [MSG] AcciÃ³n recibida: sync_template_from_db
2025-06-19 01:10:53,138 [INFO] ğŸ”„ [MSG] Iniciando sync_template_from_db para usuario 7265
2025-06-19 01:10:53,139 [INFO] ğŸ”„ [SYNC] Iniciando sincronizaciÃ³n de template desde BD...
2025-06-19 01:10:53,139 [INFO] ğŸ“Š [SYNC] Template decodificado: 1218 bytes
2025-06-19 01:10:53,140 [INFO] ğŸ” [SYNC] Consultando nombre para usuario UUID: 67378a76-78dc-49d9-9864-83aef6754961
2025-06-19 01:10:53,140 [INFO] ğŸ” [SUPABASE] Consultando usuario: 67378a76-78dc-49d9-9864-83aef6754961
2025-06-19 01:10:54,605 [INFO] HTTP Request: GET https://tyuuyqypgwvdtpfvumxx.supabase.co/rest/v1/Users?select=firstName%2ClastName&id=eq.67378a76-78dc-49d9-9864-83aef6754961 "HTTP/1.1 200 OK"
2025-06-19 01:10:54,609 [INFO] âœ… [SUPABASE] Nombre obtenido: 'MUP - Erick Francisco De Luna'
2025-06-19 01:10:54,610 [INFO] ğŸ”„ [SYNC] === DATOS DE SINCRONIZACIÃ“N ===
2025-06-19 01:10:54,610 [INFO] ğŸ‘¤ [SYNC] Usuario: 7265 - 'MUP - Erick Francisco De Luna'
2025-06-19 01:10:54,610 [INFO] ğŸ–ï¸ [SYNC] Dedo: Frontend 8 â†’ ZKTeco 7 (Medio Izquierdo)
2025-06-19 01:10:54,611 [INFO] ğŸ“Š [SYNC] Template: 1218 bytes
2025-06-19 01:10:54,611 [INFO] ğŸ‘¤ [SYNC] Configurando usuario en F22...
2025-06-19 01:10:55,515 [INFO] âœ… [SYNC] Usuario configurado en F22: MUP - Erick Francisco De Luna
2025-06-19 01:10:55,516 [INFO] ğŸ–ï¸ [SYNC] Guardando template de huella en F22...
2025-06-19 01:10:55,517 [ERROR] âŒ [COM] Error en set_user_template: invalid literal for int() with base 10: b'M\x81SR22\x00\x00\x04\xc2\xc3\x05\x05\x05\x07\t\xce\xd0\x00\x00(\xc3v\x00\x00\x00\x00\x84Q!\x8e\xc2\xbf\x013\x0fj\x00\x1b\x00@\xcfp\x01\xec\x00B\x0f\x80\x00\x9b\xc2[\x0eC\x00|\x00(\x0f\xed\xc2\xf7\x
2025-06-19 01:10:55,521 [INFO] â„¹ï¸ [WS] No hay mÃ¡s clientes, desconectando del F22...
2025-06-19 01:10:55,521 [INFO] ğŸ”Œ [DISCONNECT] Desconectando del F22...
2025-06-19 01:10:55,615 [INFO] âœ… [DISCONNECT] Desconectado de F22
2025-06-19 01:16:59,018 [INFO] server closing
2025-06-19 01:16:59,020 [INFO] server closed
2025-06-19 01:16:59,028 [INFO] â›” Servicio detenido por el usuario
2025-06-19 01:17:07,158 [INFO] ğŸš€================================================================================
2025-06-19 01:17:07,158 [INFO] ğŸš€ INICIANDO F22 WEBSOCKET SERVICE - VERSIÃ“N FINAL CORREGIDA
2025-06-19 01:17:07,158 [INFO] ğŸš€================================================================================
2025-06-19 01:17:07,159 [INFO] ğŸ“… Fecha: 2025-06-19 07:01:10 UTC
2025-06-19 01:17:07,159 [INFO] ğŸ‘¤ Desarrollado por: luishdz04
2025-06-19 01:17:07,159 [INFO] ğŸ”§ SDK: Oficial ZKTeco (zkemkeeper.dll)
2025-06-19 01:17:07,159 [INFO] ğŸŒ Puerto WebSocket: 8082
2025-06-19 01:17:07,159 [INFO] ğŸ¢ Dispositivo F22: 192.168.1.201:4370
2025-06-19 01:17:07,159 [INFO] ğŸ¯ MÃ¡quina: 1
2025-06-19 01:17:07,159 [INFO] 
2025-06-19 01:17:07,159 [INFO] âœ… FUNCIONALIDADES ACTIVAS:
2025-06-19 01:17:07,159 [INFO]    ğŸ”„ sync_template_from_db - Sincronizar huellas desde BD
2025-06-19 01:17:07,159 [INFO]    ğŸ—‘ï¸ delete_user - Eliminar huellas especÃ­ficas (conservar usuario)
2025-06-19 01:17:07,159 [INFO]    ğŸ—‘ï¸ delete_template - Eliminar template especÃ­fico
2025-06-19 01:17:07,159 [INFO]    ğŸ¢ IntegraciÃ³n Supabase - Nombres formato 'MUP - Nombre Apellido'
2025-06-19 01:17:07,160 [INFO]    ğŸ›¡ï¸ Manejo COM robusto - Sin crashes
2025-06-19 01:17:07,160 [INFO]    ğŸ“Š Logging completo - Trazabilidad total
2025-06-19 01:17:07,160 [INFO]    âœ… Respuestas corregidas - Compatible con frontend actualizado
2025-06-19 01:17:07,160 [INFO] âœ… ConfiguraciÃ³n Supabase: ACTIVA
2025-06-19 01:17:07,160 [INFO]    ğŸ“¡ URL: https://tyuuyqypgwvdtpfvumxx.supabase.co
2025-06-19 01:17:07,160 [INFO] ğŸš€================================================================================
2025-06-19 01:17:07,171 [INFO] server listening on 127.0.0.1:8082
2025-06-19 01:17:07,171 [INFO] âœ… Servidor WebSocket ACTIVO en ws://127.0.0.1:8082
2025-06-19 01:17:07,171 [INFO] â³ Esperando conexiones de clientes...
2025-06-19 01:17:07,171 [INFO] ğŸ”„ Servicio listo para operaciones de sincronizaciÃ³n...
2025-06-19 01:18:03,437 [INFO] connection open
2025-06-19 01:18:03,438 [INFO] ğŸ”Œ [WS] Cliente conectado: 1855694756496
2025-06-19 01:18:03,486 [INFO] ğŸ¯ [MSG] AcciÃ³n recibida: connect_device
2025-06-19 01:18:03,487 [INFO] ğŸ”Œ [CONNECT] Conectando a F22 en 192.168.1.201:4370...
2025-06-19 01:18:04,186 [INFO] âœ… [CONNECT] ConexiÃ³n exitosa con F22 usando SDK oficial
2025-06-19 01:18:04,187 [ERROR] âŒ [COM] Error en get_user_count: zkemkeeper.ZKEM.GetUserCount
2025-06-19 01:18:04,187 [WARNING] âš ï¸ [INFO] Error obteniendo conteo de usuarios: zkemkeeper.ZKEM.GetUserCount
2025-06-19 01:18:04,229 [INFO] ğŸ¯ [MSG] AcciÃ³n recibida: sync_template_from_db
2025-06-19 01:18:04,230 [INFO] ğŸ”„ [MSG] Iniciando sync_template_from_db para usuario 7265
2025-06-19 01:18:04,230 [INFO] ğŸ”„ [SYNC] Iniciando sincronizaciÃ³n de template desde BD...
2025-06-19 01:18:04,231 [INFO] ğŸ“Š [SYNC] Template decodificado: 868 bytes
2025-06-19 01:18:04,231 [INFO] ğŸ” [SYNC] Consultando nombre para usuario UUID: 67378a76-78dc-49d9-9864-83aef6754961
2025-06-19 01:18:04,232 [INFO] ğŸ” [SUPABASE] Consultando usuario: 67378a76-78dc-49d9-9864-83aef6754961
2025-06-19 01:18:05,415 [INFO] HTTP Request: GET https://tyuuyqypgwvdtpfvumxx.supabase.co/rest/v1/Users?select=firstName%2ClastName&id=eq.67378a76-78dc-49d9-9864-83aef6754961 "HTTP/1.1 200 OK"
2025-06-19 01:18:05,416 [INFO] âœ… [SUPABASE] Nombre obtenido: 'MUP - Erick Francisco De Luna'
2025-06-19 01:18:05,416 [INFO] ğŸ”„ [SYNC] === DATOS DE SINCRONIZACIÃ“N ===
2025-06-19 01:18:05,417 [INFO] ğŸ‘¤ [SYNC] Usuario: 7265 - 'MUP - Erick Francisco De Luna'
2025-06-19 01:18:05,417 [INFO] ğŸ–ï¸ [SYNC] Dedo: Frontend 9 â†’ ZKTeco 8 (Anular Izquierdo)
2025-06-19 01:18:05,417 [INFO] ğŸ“Š [SYNC] Template: 868 bytes
2025-06-19 01:18:05,417 [INFO] ğŸ‘¤ [SYNC] Configurando usuario en F22...
2025-06-19 01:18:06,278 [INFO] âœ… [SYNC] Usuario configurado en F22: MUP - Erick Francisco De Luna
2025-06-19 01:18:06,279 [INFO] ğŸ–ï¸ [SYNC] Guardando template de huella en F22...
2025-06-19 01:18:06,280 [ERROR] âŒ [COM] Error en set_user_template: invalid literal for int() with base 10: 'SidTUjIyAAADZGkFBQUHCc7QAAAvZXYAAAAAg/MYh2QUACIPkADpAZRrdAE4ASsOowBDZVUPUwA/ASEPK2QlANsNmwC7AAprJwGmAPIOsgDDZAcOdQAwAawOV2QpAFkPNQDUAVlp3QEkATQLHACgZKIM1QCYAOAP32SOAZkJqgAEAIlrxwHOAJYPGgDlZJ8FpwBJAYQ
2025-06-19 01:18:06,286 [INFO] â„¹ï¸ [WS] No hay mÃ¡s clientes, desconectando del F22...
2025-06-19 01:18:06,287 [INFO] ğŸ”Œ [DISCONNECT] Desconectando del F22...
2025-06-19 01:18:06,384 [INFO] âœ… [DISCONNECT] Desconectado de F22
2025-06-19 01:21:23,240 [INFO] server closing
2025-06-19 01:21:23,241 [INFO] server closed
2025-06-19 01:21:23,242 [INFO] â›” Servicio detenido por el usuario
